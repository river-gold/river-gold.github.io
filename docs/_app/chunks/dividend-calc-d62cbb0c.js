import{l as d}from"./common-8e754978.js";import{w as u}from"./index-84b0d351.js";import{V as o}from"./index-e4382ec8.js";var v=Object.defineProperty,p=Object.getOwnPropertyDescriptor,n=(h,e,r,s)=>{for(var i=s>1?void 0:s?p(e,r):e,l=h.length-1,a;l>=0;l--)(a=h[l])&&(i=(s?a(e,r,i):a(i))||i);return s&&i&&v(e,r,i),i};class f{constructor(e){this.storeKey=e,this._initAmount=u(`${this.storeKey}/initAmount`,6e4),this._roundType=u(`${this.storeKey}/roundType`,"monthly"),this._roundAmount=u(`${this.storeKey}/roundAmount`,300),this._rateOfReturn=u(`${this.storeKey}/rateOfReturn`,6),this._dividendYield=u(`${this.storeKey}/dividendYield`,3),this._dividendPeriod=u(`${this.storeKey}/dividendPeriod`,"month"),this._dividendReinvestment=u(`${this.storeKey}/dividendReinvestment`,!0),this._dividendReinvestmentRatio=u(`${this.storeKey}/dividendReinvestmentRatio`,50)}get initAmount(){return o(this._initAmount)}set initAmount(e){this._initAmount.set(e)}get roundType(){return o(this._roundType)}set roundType(e){this._roundType.set(e)}get roundAmount(){return o(this._roundAmount)}set roundAmount(e){this._roundAmount.set(e)}get rateOfReturn(){return o(this._rateOfReturn)}set rateOfReturn(e){this._rateOfReturn.set(e)}get dividendYield(){return o(this._dividendYield)}set dividendYield(e){this._dividendYield.set(e)}get dividendPeriod(){return o(this._dividendPeriod)}set dividendPeriod(e){this._dividendPeriod.set(e)}get dividendReinvestment(){return o(this._dividendReinvestment)}set dividendReinvestment(e){this._dividendReinvestment.set(e)}get dividendReinvestmentRatio(){return o(this._dividendReinvestmentRatio)}set dividendReinvestmentRatio(e){this._dividendReinvestmentRatio.set(e)}getResults(e){let r=Array();for(let s=0;e(s,this,r);s++){let i=new t;i.round=s+1,i.principal=this.roundAmount,i.initAmount=this.initAmount,i.roundType=this.roundType,i.yearlyRateOfReturn=this.rateOfReturn/100,i.dividendYield=this.dividendYield/100,i.dividendPeriod=this.dividendPeriod,i.dividendReinvestment=this.dividendReinvestment,i.dividendReinvestmentRatio=this.dividendReinvestmentRatio,i.results=r,r.push(i)}return r}}class t{constructor(){this.round=0,this.principal=0,this.initAmount=0,this.roundType="",this.yearlyRateOfReturn=0,this.dividendYield=0,this.dividendPeriod="",this.dividendReinvestment=!1,this.dividendReinvestmentRatio=0,this.results=[]}get index(){return this.round-1}get preResult(){return this.index==0?null:this.results[this.index-1]}get accumulatedPrincipal(){if(this.preResult==null)return this.initAmount+this.principal;if(this.roundType=="monthly")return this.preResult.accumulatedPrincipal+this.principal;if(this.roundType=="yearly")return this.round%12-1==0?this.preResult.accumulatedPrincipal+this.principal:this.preResult.accumulatedPrincipal;throw`\uC798\uBABB\uB41C \uD22C\uC790\uC8FC\uAE30, ${this.dividendPeriod}`}get balance(){if(this.preResult==null)return this.accumulatedPrincipal*(this.rateOfReturn+1);let e=this.dividendReinvestment?this.preResult.dividend:0;if(this.roundType=="monthly")return(this.preResult.balance+this.principal)*(this.rateOfReturn+1)+e;if(this.roundType=="yearly")return this.round%12-1==0?(console.log(1),(this.preResult.balance+this.principal)*(this.rateOfReturn+1)+e):this.preResult.balance*(this.rateOfReturn+1)+e;throw`\uC798\uBABB\uB41C \uD22C\uC790\uC8FC\uAE30, ${this.dividendPeriod}`}get rateOfReturn(){return(1+this.yearlyRateOfReturn)**(1/12)-1}get investmentRateOfReturn(){return this.balance/this.accumulatedPrincipal-1}get totalRateOfReturn(){return this.dividendReinvestment?this.investmentRateOfReturn:(this.balance+this.dividend)/this.accumulatedPrincipal-1}get periodDividendYield(){if(this.dividendPeriod=="month")return this.dividendYield/12;if(this.dividendPeriod=="quarter")return this.dividendYield/4;if(this.dividendPeriod=="half")return this.dividendYield/2;if(this.dividendPeriod=="year")return this.dividendYield;throw`\uC798\uBABB\uB41C \uBC30\uB2F9\uC8FC\uAE30, ${this.dividendPeriod}`}get yearlyDividendYield(){let e=this.dividend/this.accumulatedPrincipal*100;if(this.dividendPeriod=="month")return e*12;if(this.dividendPeriod=="quarter")return e*4;if(this.dividendPeriod=="half")return e*2;if(this.dividendPeriod=="year")return e;throw`\uC798\uBABB\uB41C \uBC30\uB2F9\uC8FC\uAE30, ${this.dividendPeriod}`}get dividend(){if(this.dividendPeriod=="month")return this.balance*this.periodDividendYield;if(this.dividendPeriod=="quarter")return this.round%3==0?this.balance*this.periodDividendYield:0;if(this.dividendPeriod=="half")return this.round%6==0?this.balance*this.periodDividendYield:0;if(this.dividendPeriod=="year")return this.round%12==0?this.balance*this.periodDividendYield:0;throw`\uC798\uBABB\uB41C \uBC30\uB2F9\uC8FC\uAE30, ${this.dividendPeriod}`}get accumulatedDividend(){return this.preResult==null?this.dividend:this.preResult.accumulatedDividend+this.dividend}}n([d],t.prototype,"index",1);n([d],t.prototype,"preResult",1);n([d],t.prototype,"accumulatedPrincipal",1);n([d],t.prototype,"balance",1);n([d],t.prototype,"rateOfReturn",1);n([d],t.prototype,"investmentRateOfReturn",1);n([d],t.prototype,"totalRateOfReturn",1);n([d],t.prototype,"periodDividendYield",1);n([d],t.prototype,"yearlyDividendYield",1);n([d],t.prototype,"dividend",1);n([d],t.prototype,"accumulatedDividend",1);export{f as D};
