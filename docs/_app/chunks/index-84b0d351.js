import{w}from"./index-b2119cdc.js";import{V as g}from"./index-e4382ec8.js";var i={};function S(t,f){const n=typeof localStorage!="undefined";function l(o,s){!n||localStorage.setItem(o,JSON.stringify(s))}if(!i[t]){const o=w(f,e=>{const r=n?localStorage.getItem(t):null;if(r&&e(JSON.parse(r)),n){const c=a=>{a.key===t&&e(a.newValue?JSON.parse(a.newValue):null)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)}}),{subscribe:s,set:u}=o;i[t]={set(e){l(t,e),u(e)},update(e){const r=e(g(o));l(t,r),u(r)},subscribe:s}}return i[t]}export{S as w};
