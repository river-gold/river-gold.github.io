import{c as xr,g as it}from"./_commonjsHelpers-7d66b65f.js";function Ne(){return Ne=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ne.apply(this,arguments)}var ot={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function k(r){return typeof r=="number"}function vr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Fe(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Be(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Pe(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Mr(r){return typeof r=="string"}var G=Array.isArray;function br(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function at(r){return Array.isArray(r)||br(r)}function Cn(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function xn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function st(r){return r&&r.constructor.prototype.isRange===!0||!1}function ie(r){return r&&r.constructor.prototype.isIndex===!0||!1}function In(r){return typeof r=="boolean"}function ut(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function ft(r){return r&&r.constructor.prototype.isHelp===!0||!1}function On(r){return typeof r=="function"}function Fn(r){return r instanceof Date}function Bn(r){return r instanceof RegExp}function Pn(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Fe(r)&&!Be(r))}function Tn(r){return r===null}function zn(r){return r===void 0}function Dn(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function qn(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Rn(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ln(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function $n(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zn(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Un(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function jn(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xn(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function ct(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Hn(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vn(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wn(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Jn(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yn(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function ht(r){return r&&r.constructor.prototype.isChain===!0||!1}function jr(r){var e=typeof r;return e==="object"?r===null?"null":Array.isArray(r)?"Array":r instanceof Date?"Date":r instanceof RegExp?"RegExp":vr(r)?"BigNumber":Fe(r)?"Complex":Be(r)?"Fraction":br(r)?"Matrix":Pe(r)?"Unit":ie(r)?"Index":st(r)?"Range":ut(r)?"ResultSet":ct(r)?r.type:ht(r)?"Chain":ft(r)?"Help":"Object":e==="function"?"Function":e}function ir(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return ir(t)});if(r instanceof Date)return new Date(r.valueOf());if(vr(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Gn(r,ir)}function Gn(r,e){var t={};for(var i in r)Gr(r,i)&&(t[i]=e(r[i]));return t}function Yr(r,e){var t,i,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,n=r.length;i<n;i++)if(!Yr(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Yr(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function Gr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Kn(r,e){for(var t={},i=0;i<e.length;i++){var n=e[i],a=r[n];a!==void 0&&(t[n]=a)}return t}var Qn=["Matrix","Array"],kn=["number","BigNumber","Fraction"],$r=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ot)};Ne($r,ot,{MATRIX_OPTIONS:Qn,NUMBER_OPTIONS:kn});var lt={exports:{}};(function(r,e){(function(t,i){r.exports=i()})(xr,function(){function t(){return!0}function i(){return!1}function n(){}function a(){var p=[{name:"number",test:function(y){return typeof y=="number"}},{name:"string",test:function(y){return typeof y=="string"}},{name:"boolean",test:function(y){return typeof y=="boolean"}},{name:"Function",test:function(y){return typeof y=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(y){return y instanceof Date}},{name:"RegExp",test:function(y){return y instanceof RegExp}},{name:"Object",test:function(y){return typeof y=="object"&&y!==null&&y.constructor===Object}},{name:"null",test:function(y){return y===null}},{name:"undefined",test:function(y){return y===void 0}}],l={name:"any",test:t},f=[],v=[],s={types:p,conversions:v,ignore:f};function o(y){var E=Vr(s.types,function(M){return M.name===y});if(E)return E;if(y==="any")return l;var C=Vr(s.types,function(M){return M.name.toLowerCase()===y.toLowerCase()});throw new TypeError('Unknown type "'+y+'"'+(C?'. Did you mean "'+C.name+'"?':""))}function u(y){return y===l?999:s.types.indexOf(y)}function h(y){var E=Vr(s.types,function(C){return C.test(y)});if(E)return E.name;throw new TypeError("Value has unknown type. Value: "+y)}function m(y,E){if(!y.signatures)throw new TypeError("Function is no typed-function");var C;if(typeof E=="string"){C=E.split(",");for(var M=0;M<C.length;M++)C[M]=C[M].trim()}else if(Array.isArray(E))C=E;else throw new TypeError("String array or a comma separated string expected");var P=C.join(","),L=y.signatures[P];if(L)return L;throw new TypeError("Signature not found (signature: "+(y.name||"unnamed")+"("+C.join(", ")+"))")}function c(y,E){var C=h(y);if(E===C)return y;for(var M=0;M<s.conversions.length;M++){var P=s.conversions[M];if(P.from===C&&P.to===E)return P.convert(y)}throw new Error("Cannot convert from "+C+" to "+E)}function d(y){return y.map(function(E){var C=E.types.map(S);return(E.restParam?"...":"")+C.join("|")}).join(",")}function g(y,E){var C=y.indexOf("...")===0,M=C?y.length>3?y.slice(3):"any":y,P=M.split("|").map(Ze).filter(Yt).filter(he),L=nr(E,P),Z=P.map(function(T){var H=o(T);return{name:T,typeIndex:u(H),test:H.test,conversion:null,conversionIndex:-1}}),D=L.map(function(T){var H=o(T.from);return{name:T.from,typeIndex:u(H),test:H.test,conversion:T,conversionIndex:E.indexOf(T)}});return{types:Z.concat(D),restParam:C}}function N(y,E,C){var M=[];return y.trim()!==""&&(M=y.split(",").map(Ze).map(function(P,L,Z){var D=g(P,C);if(D.restParam&&L!==Z.length-1)throw new SyntaxError('Unexpected rest parameter "'+P+'": only allowed for the last parameter');return D})),M.some(Gt)?null:{params:M,fn:E}}function w(y){var E=le(y);return E?E.restParam:!1}function b(y){return y.types.some(function(E){return E.conversion!=null})}function A(y){if(!y||y.types.length===0)return t;if(y.types.length===1)return o(y.types[0].name).test;if(y.types.length===2){var E=o(y.types[0].name).test,C=o(y.types[1].name).test;return function(L){return E(L)||C(L)}}else{var M=y.types.map(function(P){return o(P.name).test});return function(L){for(var Z=0;Z<M.length;Z++)if(M[Z](L))return!0;return!1}}}function I(y){var E,C,M;if(w(y)){E=Kt(y).map(A);var P=E.length,L=A(le(y)),Z=function(D){for(var T=P;T<D.length;T++)if(!L(D[T]))return!1;return!0};return function(T){for(var H=0;H<E.length;H++)if(!E[H](T[H]))return!1;return Z(T)&&T.length>=P+1}}else return y.length===0?function(T){return T.length===0}:y.length===1?(C=A(y[0]),function(T){return C(T[0])&&T.length===1}):y.length===2?(C=A(y[0]),M=A(y[1]),function(T){return C(T[0])&&M(T[1])&&T.length===2}):(E=y.map(A),function(T){for(var H=0;H<E.length;H++)if(!E[H](T[H]))return!1;return T.length===E.length})}function x(y,E){return E<y.params.length?y.params[E]:w(y.params)?le(y.params):null}function _(y,E,C){var M=x(y,E),P=M?C?M.types.filter(B):M.types:[];return P.map(S)}function S(y){return y.name}function B(y){return y.conversion===null||y.conversion===void 0}function F(y,E){var C=rn(pe(y,function(M){return _(M,E,!1)}));return C.indexOf("any")!==-1?["any"]:C}function z(y,E,C){var M,P,L=y||"unnamed",Z=C,D;for(D=0;D<E.length;D++){var T=Z.filter(function(yr){var ve=A(x(yr,D));return(D<yr.params.length||w(yr.params))&&ve(E[D])});if(T.length===0){if(P=F(Z,D),P.length>0){var H=h(E[D]);return M=new TypeError("Unexpected type of argument in function "+L+" (expected: "+P.join(" or ")+", actual: "+H+", index: "+D+")"),M.data={category:"wrongType",fn:L,index:D,actual:H,expected:P},M}}else Z=T}var pr=Z.map(function(yr){return w(yr.params)?1/0:yr.params.length});if(E.length<Math.min.apply(null,pr))return P=F(Z,D),M=new TypeError("Too few arguments in function "+L+" (expected: "+P.join(" or ")+", index: "+E.length+")"),M.data={category:"tooFewArgs",fn:L,index:E.length,expected:P},M;var mr=Math.max.apply(null,pr);return E.length>mr?(M=new TypeError("Too many arguments in function "+L+" (expected: "+mr+", actual: "+E.length+")"),M.data={category:"tooManyArgs",fn:L,index:E.length,expectedLength:mr},M):(M=new TypeError('Arguments of type "'+E.join(", ")+'" do not match any of the defined signatures of function '+L+"."),M.data={category:"mismatch",actual:E.map(h)},M)}function j(y){for(var E=999,C=0;C<y.types.length;C++)B(y.types[C])&&(E=Math.min(E,y.types[C].typeIndex));return E}function V(y){for(var E=999,C=0;C<y.types.length;C++)B(y.types[C])||(E=Math.min(E,y.types[C].conversionIndex));return E}function X(y,E){var C;return C=y.restParam-E.restParam,C!==0||(C=b(y)-b(E),C!==0)||(C=j(y)-j(E),C!==0)?C:V(y)-V(E)}function R(y,E){var C=Math.min(y.params.length,E.params.length),M,P;if(P=y.params.some(b)-E.params.some(b),P!==0)return P;for(M=0;M<C;M++)if(P=b(y.params[M])-b(E.params[M]),P!==0)return P;for(M=0;M<C;M++)if(P=X(y.params[M],E.params[M]),P!==0)return P;return y.params.length-E.params.length}function nr(y,E){var C={};return y.forEach(function(M){E.indexOf(M.from)===-1&&E.indexOf(M.to)!==-1&&!C[M.from]&&(C[M.from]=M)}),Object.keys(C).map(function(M){return C[M]})}function ur(y,E){var C=E;if(y.some(b)){var M=w(y),P=y.map(J);C=function(){for(var T=[],H=M?arguments.length-1:arguments.length,pr=0;pr<H;pr++)T[pr]=P[pr](arguments[pr]);return M&&(T[H]=arguments[H].map(P[H])),E.apply(this,T)}}var L=C;if(w(y)){var Z=y.length-1;L=function(){return C.apply(this,je(arguments,0,Z).concat([je(arguments,Z)]))}}return L}function J(y){var E,C,M,P,L=[],Z=[];switch(y.types.forEach(function(D){D.conversion&&(L.push(o(D.conversion.from).test),Z.push(D.conversion.convert))}),Z.length){case 0:return function(T){return T};case 1:return E=L[0],M=Z[0],function(T){return E(T)?M(T):T};case 2:return E=L[0],C=L[1],M=Z[0],P=Z[1],function(T){return E(T)?M(T):C(T)?P(T):T};default:return function(T){for(var H=0;H<Z.length;H++)if(L[H](T))return Z[H](T);return T}}}function lr(y){var E={};return y.forEach(function(C){C.params.some(b)||Hr(C.params,!0).forEach(function(M){E[d(M)]=C.fn})}),E}function Hr(y,E){function C(M,P,L){if(P<M.length){var Z=M[P],D=E?Z.types.filter(B):Z.types,T;if(Z.restParam){var H=D.filter(B);T=H.length<D.length?[H,D]:[D]}else T=D.map(function(mr){return[mr]});return pe(T,function(mr){return C(M,P+1,L.concat([mr]))})}else{var pr=L.map(function(mr,yr){return{types:mr,restParam:yr===M.length-1&&w(M)}});return[pr]}}return C(y,0,[])}function $e(y,E){for(var C=Math.max(y.params.length,E.params.length),M=0;M<C;M++){var P=_(y,M,!0),L=_(E,M,!0);if(!kt(P,L))return!1}var Z=y.params.length,D=E.params.length,T=w(y.params),H=w(E.params);return T?H?Z===D:D>=Z:H?Z>=D:Z===D}function wr(y,E){if(Object.keys(E).length===0)throw new SyntaxError("No signatures provided");var C=[];Object.keys(E).map(function(Y){return N(Y,E[Y],s.conversions)}).filter(Ue).forEach(function(Y){var ar=Vr(C,function(Nr){return $e(Nr,Y)});if(ar)throw new TypeError('Conflicting signatures "'+d(ar.params)+'" and "'+d(Y.params)+'".');C.push(Y)});var M=pe(C,function(Y){var ar=Y?Hr(Y.params,!1):[];return ar.map(function(Nr){return{params:Nr,fn:Y.fn}})}).filter(Ue);M.sort(R);var P=M[0]&&M[0].params.length<=2&&!w(M[0].params),L=M[1]&&M[1].params.length<=2&&!w(M[1].params),Z=M[2]&&M[2].params.length<=2&&!w(M[2].params),D=M[3]&&M[3].params.length<=2&&!w(M[3].params),T=M[4]&&M[4].params.length<=2&&!w(M[4].params),H=M[5]&&M[5].params.length<=2&&!w(M[5].params),pr=P&&L&&Z&&D&&T&&H,mr=M.map(function(Y){return I(Y.params)}),yr=P?A(M[0].params[0]):i,ve=L?A(M[1].params[0]):i,en=Z?A(M[2].params[0]):i,tn=D?A(M[3].params[0]):i,nn=T?A(M[4].params[0]):i,on=H?A(M[5].params[0]):i,an=P?A(M[0].params[1]):i,sn=L?A(M[1].params[1]):i,un=Z?A(M[2].params[1]):i,fn=D?A(M[3].params[1]):i,cn=T?A(M[4].params[1]):i,hn=H?A(M[5].params[1]):i,Or=M.map(function(Y){return ur(Y.params,Y.fn)}),ln=P?Or[0]:n,pn=L?Or[1]:n,vn=Z?Or[2]:n,mn=D?Or[3]:n,dn=T?Or[4]:n,gn=H?Or[5]:n,wn=P?M[0].params.length:-1,yn=L?M[1].params.length:-1,Nn=Z?M[2].params.length:-1,bn=D?M[3].params.length:-1,_n=T?M[4].params.length:-1,Mn=H?M[5].params.length:-1,En=pr?6:0,Sn=M.length,An=function(){for(var ar=En;ar<Sn;ar++)if(mr[ar](arguments))return Or[ar].apply(this,arguments);return s.onMismatch(y,arguments,M)},me=function Y(ar,Nr){return arguments.length===wn&&yr(ar)&&an(Nr)?ln.apply(Y,arguments):arguments.length===yn&&ve(ar)&&sn(Nr)?pn.apply(Y,arguments):arguments.length===Nn&&en(ar)&&un(Nr)?vn.apply(Y,arguments):arguments.length===bn&&tn(ar)&&fn(Nr)?mn.apply(Y,arguments):arguments.length===_n&&nn(ar)&&cn(Nr)?dn.apply(Y,arguments):arguments.length===Mn&&on(ar)&&hn(Nr)?gn.apply(Y,arguments):An.apply(Y,arguments)};try{Object.defineProperty(me,"name",{value:y})}catch{}return me.signatures=lr(M),me}function Ur(y,E,C){throw z(y,E,C)}function he(y){return s.ignore.indexOf(y)===-1}function Ze(y){return y.trim()}function Yt(y){return!!y}function Ue(y){return y!==null}function Gt(y){return y.types.length===0}function Kt(y){return y.slice(0,y.length-1)}function le(y){return y[y.length-1]}function je(y,E,C){return Array.prototype.slice.call(y,E,C)}function Qt(y,E){return y.indexOf(E)!==-1}function kt(y,E){for(var C=0;C<y.length;C++)if(Qt(E,y[C]))return!0;return!1}function Vr(y,E){for(var C=0;C<y.length;C++)if(E(y[C]))return y[C]}function rn(y){for(var E={},C=0;C<y.length;C++)E[y[C]]=!0;return Object.keys(E)}function pe(y,E){return Array.prototype.concat.apply([],y.map(E))}function Xe(y){for(var E="",C=0;C<y.length;C++){var M=y[C];if((typeof M.signatures=="object"||typeof M.signature=="string")&&M.name!==""){if(E==="")E=M.name;else if(E!==M.name){var P=new Error("Function names do not match (expected: "+E+", actual: "+M.name+")");throw P.data={actual:M.name,expected:E},P}}}return E}function He(y){var E,C={};function M(D,T){if(C.hasOwnProperty(D)&&T!==C[D])throw E=new Error('Signature "'+D+'" is defined twice'),E.data={signature:D},E}for(var P=0;P<y.length;P++){var L=y[P];if(typeof L.signatures=="object")for(var Z in L.signatures)L.signatures.hasOwnProperty(Z)&&(M(Z,L.signatures[Z]),C[Z]=L.signatures[Z]);else if(typeof L.signature=="string")M(L.signature,L),C[L.signature]=L;else throw E=new TypeError("Function is no typed-function (index: "+P+")"),E.data={index:P},E}return C}return s=wr("typed",{"string, Object":wr,Object:function(y){var E=[];for(var C in y)y.hasOwnProperty(C)&&E.push(y[C]);var M=Xe(E);return wr(M,y)},"...Function":function(y){return wr(Xe(y),He(y))},"string, ...Function":function(y,E){return wr(y,He(E))}}),s.create=a,s.types=p,s.conversions=v,s.ignore=f,s.onMismatch=Ur,s.throwMismatchError=Ur,s.createError=z,s.convert=c,s.find=m,s.addType=function(y,E){if(!y||typeof y.name!="string"||typeof y.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(E!==!1){for(var C=0;C<s.types.length;C++)if(s.types[C].name==="Object"){s.types.splice(C,0,y);return}}s.types.push(y)},s.addConversion=function(y){if(!y||typeof y.from!="string"||typeof y.to!="string"||typeof y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");s.conversions.push(y)},s}return a()})})(lt);var Ve=lt.exports;function er(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function de(r,e,t){var i={2:"0b",8:"0o",16:"0x"},n=i[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!er(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!er(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var p="";return r<0&&(r=-r,p="-"),"".concat(p).concat(n).concat(r.toString(e)).concat(a)}function be(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",i,n;if(e&&(e.notation&&(t=e.notation),k(e)?i=e:k(e.precision)&&(i=e.precision),e.wordSize&&(n=e.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return pt(r,i);case"exponential":return vt(r,i);case"engineering":return ri(r,i);case"bin":return de(r,2,n);case"oct":return de(r,8,n);case"hex":return de(r,16,n);case"auto":return ei(r,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],p=arguments[4];return a!=="."?a+p:p});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function oe(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],i=e[2],n=parseFloat(e[4]||"0"),a=i.indexOf(".");n+=a!==-1?a-1:i.length-1;var p=i.replace(".","").replace(/^0*/,function(l){return n-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return p.length===0&&(p.push(0),n++),{sign:t,coefficients:p,exponent:n}}function ri(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=oe(r),i=ae(t,e),n=i.exponent,a=i.coefficients,p=n%3===0?n:n<0?n-3-n%3:n-n%3;if(k(e))for(;e>a.length||n-p+1>a.length;)a.push(0);else for(var l=Math.abs(n-p)-(a.length-1),f=0;f<l;f++)a.push(0);for(var v=Math.abs(n-p),s=1;v>0;)s++,v--;var o=a.slice(s).join(""),u=k(e)&&o.length||o.match(/[1-9]/)?"."+o:"",h=a.slice(0,s).join("")+u+"e"+(n>=0?"+":"")+p.toString();return i.sign+h}function pt(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=oe(r),i=typeof e=="number"?ae(t,t.exponent+1+e):t,n=i.coefficients,a=i.exponent+1,p=a+(e||0);return n.length<p&&(n=n.concat(qr(p-n.length))),a<0&&(n=qr(-a+1).concat(n),a=1),a<n.length&&n.splice(a,0,a===0?"0.":"."),i.sign+n.join("")}function vt(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=oe(r),i=e?ae(t,e):t,n=i.coefficients,a=i.exponent;n.length<e&&(n=n.concat(qr(e-n.length)));var p=n.shift();return i.sign+p+(n.length>0?"."+n.join(""):"")+"e"+(a>=0?"+":"")+a}function ei(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var i=t&&t.lowerExp!==void 0?t.lowerExp:-3,n=t&&t.upperExp!==void 0?t.upperExp:5,a=oe(r),p=e?ae(a,e):a;if(p.exponent<i||p.exponent>=n)return vt(r,e);var l=p.coefficients,f=p.exponent;l.length<e&&(l=l.concat(qr(e-l.length))),l=l.concat(qr(f-l.length+1+(l.length<e?e-l.length:0))),l=qr(-f).concat(l);var v=f>0?f:0;return v<l.length-1&&l.splice(v+1,0,"."),p.sign+l.join("")}function ae(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),t.exponent++,a++),a--,i[a]++}}return t}function qr(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function ti(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var ni=Number.EPSILON||2220446049250313e-31;function Rr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var i=Math.abs(r-e);return i<ni?!0:i<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}function ge(r,e,t){var i=r.constructor,n=new i(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!er(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function ii(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",i,n;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?i=e:e.precision&&(i=e.precision),e.wordSize&&(n=e.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return ai(r,i);case"exponential":return We(r,i);case"engineering":return oi(r,i);case"bin":return ge(r,2,n);case"oct":return ge(r,8,n);case"hex":return ge(r,16,n);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,p=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var l,f=r.toSignificantDigits(i),v=f.e;return v>=a&&v<p?l=f.toFixed():l=We(r,i),l.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function oi(r,e){var t=r.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-i)),a=n.toPrecision(e);return a.indexOf("e")!==-1&&(a=n.toString()),a+"e"+(t>=0?"+":"")+i.toString()}function We(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function ai(r,e){return r.toFixed(e)}function cr(r,e){var t=si(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function si(r,e){if(typeof r=="number")return be(r,e);if(vr(r))return ii(r,e);if(ui(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return mt(r,e);if(Mr(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(i=>'"'+i+'": '+cr(r[i],e));return"{"+t.join(", ")+"}"}return String(r)}function mt(r,e){if(Array.isArray(r)){for(var t="[",i=r.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=mt(r[n],e);return t+="]",t}else return cr(r,e)}function ui(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function Q(r,e,t){if(!(this instanceof Q))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Q.prototype=new RangeError;Q.prototype.constructor=RangeError;Q.prototype.name="DimensionError";Q.prototype.isDimensionError=!0;function Zr(r,e,t){if(!(this instanceof Zr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Zr.prototype=new RangeError;Zr.prototype.constructor=RangeError;Zr.prototype.name="IndexError";Zr.prototype.isIndexError=!0;function Kr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function dt(r,e,t){var i,n=r.length;if(n!==e[t])throw new Q(n,e[t]);if(t<e.length-1){var a=t+1;for(i=0;i<n;i++){var p=r[i];if(!Array.isArray(p))throw new Q(e.length-1,e.length,"<");dt(r[i],e,a)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new Q(e.length+1,e.length,">")}function Je(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new Q(r.length,0)}else dt(r,e,0)}function K(r,e){if(!k(r)||!er(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Zr(r,e)}function _e(r,e,t){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!k(n)||!er(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+cr(e)+")")});var i=t!==void 0?t:0;return Me(r,e,0,i),r}function Me(r,e,t,i){var n,a,p=r.length,l=e[t],f=Math.min(p,l);if(r.length=l,t<e.length-1){var v=t+1;for(n=0;n<f;n++)a=r[n],Array.isArray(a)||(a=[a],r[n]=a),Me(a,e,v,i);for(n=f;n<l;n++)a=[],r[n]=a,Me(a,e,v,i)}else{for(n=0;n<f;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=f;n<l;n++)r[n]=i}}function fi(r,e){var t=hi(r),i=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Q(0,i,"!=");e=Te(e,i);var n=gt(e);if(i!==n)throw new Q(n,i,"!=");try{return ci(t,e)}catch(a){throw a instanceof Q?new Q(n,i,"!="):a}}function Te(r,e){var t=gt(r),i=r.slice(),n=-1,a=r.indexOf(n),p=r.indexOf(n,a+1)>=0;if(p)throw new Error("More than one wildcard in sizes");var l=a>=0,f=e%t===0;if(l)if(f)i[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return i}function gt(r){return r.reduce((e,t)=>e*t,1)}function ci(r,e){for(var t=r,i,n=e.length-1;n>0;n--){var a=e[n];i=[];for(var p=t.length/a,l=0;l<p;l++)i.push(t.slice(l*a,(l+1)*a));t=i}return t}function wt(r,e,t,i){var n=i||Kr(r);if(t)for(var a=0;a<t;a++)r=[r],n.unshift(1);for(r=yt(r,e,0);n.length<e;)n.push(1);return r}function yt(r,e,t){var i,n;if(Array.isArray(r)){var a=t+1;for(i=0,n=r.length;i<n;i++)r[i]=yt(r[i],e,a)}else for(var p=t;p<e;p++)r=[r];return r}function hi(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Qr(r,e){for(var t,i=0,n=0;n<r.length;n++){var a=r[n],p=Array.isArray(a);if(n===0&&p&&(i=a.length),p&&a.length!==i)return;var l=p?Qr(a,e):e(a);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function tr(r,e,t,i){function n(a){var p=Kn(a,e.map(vi));return li(r,e,a),t(p)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function li(r,e,t){var i=e.filter(a=>!pi(a)).every(a=>t[a]!==void 0);if(!i){var n=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function pi(r){return r&&r[0]==="?"}function vi(r){return r&&r[0]==="?"?r.slice(1):r}function mi(r,e){if(bt(r)&&Nt(r,e))return r[e];throw typeof r[e]=="function"&&wi(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function di(r,e,t){if(bt(r)&&Nt(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function gi(r,e){return e in r}function Nt(r,e){return!r||typeof r!="object"?!1:Gr(yi,e)?!0:!(e in Object.prototype||e in Function.prototype)}function wi(r,e){return r==null||typeof r[e]!="function"||Gr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Gr(Ni,e)?!0:!(e in Object.prototype||e in Function.prototype)}function bt(r){return typeof r=="object"&&r&&r.constructor===Object}var yi={length:!0,name:!0},Ni={toString:!0,valueOf:!0,toLocaleString:!0};class bi{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return mi(this.wrappedObject,e)}set(e,t){return di(this.wrappedObject,e,t),this}has(e){return gi(this.wrappedObject,e)}}function _i(r){return r?r instanceof Map||r instanceof bi||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var _t=function(){return _t=Ve.create,Ve},Mi=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ei=tr("typed",Mi,function(e){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:a}=e,p=_t();return p.types=[{name:"number",test:k},{name:"Complex",test:Fe},{name:"BigNumber",test:vr},{name:"Fraction",test:Be},{name:"Unit",test:Pe},{name:"string",test:Mr},{name:"Chain",test:ht},{name:"Array",test:G},{name:"Matrix",test:br},{name:"DenseMatrix",test:Cn},{name:"SparseMatrix",test:xn},{name:"Range",test:st},{name:"Index",test:ie},{name:"boolean",test:In},{name:"ResultSet",test:ut},{name:"Help",test:ft},{name:"function",test:On},{name:"Date",test:Fn},{name:"RegExp",test:Bn},{name:"null",test:Tn},{name:"undefined",test:zn},{name:"AccessorNode",test:Dn},{name:"ArrayNode",test:qn},{name:"AssignmentNode",test:Rn},{name:"BlockNode",test:Ln},{name:"ConditionalNode",test:$n},{name:"ConstantNode",test:Zn},{name:"FunctionNode",test:jn},{name:"FunctionAssignmentNode",test:Un},{name:"IndexNode",test:Xn},{name:"Node",test:ct},{name:"ObjectNode",test:Hn},{name:"OperatorNode",test:Vn},{name:"ParenthesisNode",test:Wn},{name:"RangeNode",test:Jn},{name:"SymbolNode",test:Yn},{name:"Map",test:_i},{name:"Object",test:Pn}],p.conversions=[{from:"number",to:"BigNumber",convert:function(f){if(t||we(f),ti(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new t(f)}},{from:"number",to:"Complex",convert:function(f){return i||Wr(f),new i(f,0)}},{from:"number",to:"string",convert:function(f){return f+""}},{from:"BigNumber",to:"Complex",convert:function(f){return i||Wr(f),new i(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return i||Wr(f),new i(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){a||ye(f);var v=new a(f);if(v.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return v}},{from:"string",to:"number",convert:function(f){var v=Number(f);if(isNaN(v))throw new Error('Cannot convert "'+f+'" to a number');return v}},{from:"string",to:"BigNumber",convert:function(f){t||we(f);try{return new t(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){a||ye(f);try{return new a(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){i||Wr(f);try{return new i(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return t||we(f),new t(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return a||ye(f),new a(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return n||Si(),new n(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}],p});function we(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Wr(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Si(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function ye(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Dr=9e15,Ir=1e9,Ee="0123456789abcdef",kr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",re="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Se={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Dr,maxE:Dr,crypto:!1},Mt,Er,U=!0,se="[DecimalError] ",Cr=se+"Invalid argument: ",Et=se+"Precision limit exceeded",St=se+"crypto unavailable",At="[object Decimal]",sr=Math.floor,rr=Math.pow,Ai=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ci=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,xi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ct=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr=1e7,$=7,Ii=9007199254740991,Oi=kr.length-1,Ae=re.length-1,O={toStringTag:At};O.absoluteValue=O.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),q(r)};O.ceil=function(){return q(new this.constructor(this),this.e+1,2)};O.clampedTo=O.clamp=function(r,e){var t,i=this,n=i.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(Cr+e);return t=i.cmp(r),t<0?r:i.cmp(e)>0?e:new n(i)};O.comparedTo=O.cmp=function(r){var e,t,i,n,a=this,p=a.d,l=(r=new a.constructor(r)).d,f=a.s,v=r.s;if(!p||!l)return!f||!v?NaN:f!==v?f:p===l?0:!p^f<0?1:-1;if(!p[0]||!l[0])return p[0]?f:l[0]?-v:0;if(f!==v)return f;if(a.e!==r.e)return a.e>r.e^f<0?1:-1;for(i=p.length,n=l.length,e=0,t=i<n?i:n;e<t;++e)if(p[e]!==l[e])return p[e]>l[e]^f<0?1:-1;return i===n?0:i>n^f<0?1:-1};O.cosine=O.cos=function(){var r,e,t=this,i=t.constructor;return t.d?t.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+$,i.rounding=1,t=Fi(i,Bt(i,t)),i.precision=r,i.rounding=e,q(Er==2||Er==3?t.neg():t,r,e,!0)):new i(1):new i(NaN)};O.cubeRoot=O.cbrt=function(){var r,e,t,i,n,a,p,l,f,v,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(U=!1,a=s.s*rr(s.s*s,1/3),!a||Math.abs(a)==1/0?(t=or(s.d),r=s.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=rr(t,1/3),r=sr((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),i=new o(t),i.s=s.s):i=new o(a.toString()),p=(r=o.precision)+3;;)if(l=i,f=l.times(l).times(l),v=f.plus(s),i=W(v.plus(s).times(l),v.plus(f),p+2,1),or(l.d).slice(0,p)===(t=or(i.d)).slice(0,p))if(t=t.slice(p-3,p+1),t=="9999"||!n&&t=="4999"){if(!n&&(q(l,r+1,0),l.times(l).times(l).eq(s))){i=l;break}p+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(q(i,r+1,1),e=!i.times(i).times(i).eq(s));break}return U=!0,q(i,r,o.rounding,e)};O.decimalPlaces=O.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-sr(this.e/$))*$,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};O.dividedBy=O.div=function(r){return W(this,new this.constructor(r))};O.dividedToIntegerBy=O.divToInt=function(r){var e=this,t=e.constructor;return q(W(e,new t(r),0,1,1),t.precision,t.rounding)};O.equals=O.eq=function(r){return this.cmp(r)===0};O.floor=function(){return q(new this.constructor(this),this.e+1,3)};O.greaterThan=O.gt=function(r){return this.cmp(r)>0};O.greaterThanOrEqualTo=O.gte=function(r){var e=this.cmp(r);return e==1||e===0};O.hyperbolicCosine=O.cosh=function(){var r,e,t,i,n,a=this,p=a.constructor,l=new p(1);if(!a.isFinite())return new p(a.s?1/0:NaN);if(a.isZero())return l;t=p.precision,i=p.rounding,p.precision=t+Math.max(a.e,a.sd())+4,p.rounding=1,n=a.d.length,n<32?(r=Math.ceil(n/3),e=(1/fe(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Lr(p,1,a.times(e),new p(1),!0);for(var f,v=r,s=new p(8);v--;)f=a.times(a),a=l.minus(f.times(s.minus(f.times(s))));return q(a,p.precision=t,p.rounding=i,!0)};O.hyperbolicSine=O.sinh=function(){var r,e,t,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(n.e,n.sd())+4,a.rounding=1,i=n.d.length,i<3)n=Lr(a,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/fe(5,r)),n=Lr(a,2,n,n,!0);for(var p,l=new a(5),f=new a(16),v=new a(20);r--;)p=n.times(n),n=n.times(l.plus(p.times(f.times(p).plus(v))))}return a.precision=e,a.rounding=t,q(n,e,t,!0)};O.hyperbolicTangent=O.tanh=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,W(t.sinh(),t.cosh(),i.precision=r,i.rounding=e)):new i(t.s)};O.inverseCosine=O.acos=function(){var r,e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,a=t.rounding;return i!==-1?i===0?e.isNeg()?dr(t,n,a):new t(0):new t(NaN):e.isZero()?dr(t,n+4,a).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=dr(t,n+4,a).times(.5),t.precision=n,t.rounding=a,r.minus(e))};O.inverseHyperbolicCosine=O.acosh=function(){var r,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,U=!1,t=t.times(t).minus(1).sqrt().plus(t),U=!0,i.precision=r,i.rounding=e,t.ln()):new i(t)};O.inverseHyperbolicSine=O.asinh=function(){var r,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,U=!1,t=t.times(t).plus(1).sqrt().plus(t),U=!0,i.precision=r,i.rounding=e,t.ln())};O.inverseHyperbolicTangent=O.atanh=function(){var r,e,t,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=a.precision,e=a.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?q(new a(n),r,e,!0):(a.precision=t=i-n.e,n=W(n.plus(1),new a(1).minus(n),t+r,1),a.precision=r+4,a.rounding=1,n=n.ln(),a.precision=r,a.rounding=e,n.times(.5))):new a(NaN)};O.inverseSine=O.asin=function(){var r,e,t,i,n=this,a=n.constructor;return n.isZero()?new a(n):(e=n.abs().cmp(1),t=a.precision,i=a.rounding,e!==-1?e===0?(r=dr(a,t+4,i).times(.5),r.s=n.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=i,n.times(2)))};O.inverseTangent=O.atan=function(){var r,e,t,i,n,a,p,l,f,v=this,s=v.constructor,o=s.precision,u=s.rounding;if(v.isFinite()){if(v.isZero())return new s(v);if(v.abs().eq(1)&&o+4<=Ae)return p=dr(s,o+4,u).times(.25),p.s=v.s,p}else{if(!v.s)return new s(NaN);if(o+4<=Ae)return p=dr(s,o+4,u).times(.5),p.s=v.s,p}for(s.precision=l=o+10,s.rounding=1,t=Math.min(28,l/$+2|0),r=t;r;--r)v=v.div(v.times(v).plus(1).sqrt().plus(1));for(U=!1,e=Math.ceil(l/$),i=1,f=v.times(v),p=new s(v),n=v;r!==-1;)if(n=n.times(f),a=p.minus(n.div(i+=2)),n=n.times(f),p=a.plus(n.div(i+=2)),p.d[e]!==void 0)for(r=e;p.d[r]===a.d[r]&&r--;);return t&&(p=p.times(2<<t-1)),U=!0,q(p,s.precision=o,s.rounding=u,!0)};O.isFinite=function(){return!!this.d};O.isInteger=O.isInt=function(){return!!this.d&&sr(this.e/$)>this.d.length-2};O.isNaN=function(){return!this.s};O.isNegative=O.isNeg=function(){return this.s<0};O.isPositive=O.isPos=function(){return this.s>0};O.isZero=function(){return!!this.d&&this.d[0]===0};O.lessThan=O.lt=function(r){return this.cmp(r)<0};O.lessThanOrEqualTo=O.lte=function(r){return this.cmp(r)<1};O.logarithm=O.log=function(r){var e,t,i,n,a,p,l,f,v=this,s=v.constructor,o=s.precision,u=s.rounding,h=5;if(r==null)r=new s(10),e=!0;else{if(r=new s(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new s(NaN);e=r.eq(10)}if(t=v.d,v.s<0||!t||!t[0]||v.eq(1))return new s(t&&!t[0]?-1/0:v.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(n=t[0];n%10===0;)n/=10;a=n!==1}if(U=!1,l=o+h,p=Ar(v,l),i=e?ee(s,l+10):Ar(r,l),f=W(p,i,l,1),Xr(f.d,n=o,u))do if(l+=10,p=Ar(v,l),i=e?ee(s,l+10):Ar(r,l),f=W(p,i,l,1),!a){+or(f.d).slice(n+1,n+15)+1==1e14&&(f=q(f,o+1,0));break}while(Xr(f.d,n+=10,u));return U=!0,q(f,o,u)};O.minus=O.sub=function(r){var e,t,i,n,a,p,l,f,v,s,o,u,h=this,m=h.constructor;if(r=new m(r),!h.d||!r.d)return!h.s||!r.s?r=new m(NaN):h.d?r.s=-r.s:r=new m(r.d||h.s!==r.s?h:NaN),r;if(h.s!=r.s)return r.s=-r.s,h.plus(r);if(v=h.d,u=r.d,l=m.precision,f=m.rounding,!v[0]||!u[0]){if(u[0])r.s=-r.s;else if(v[0])r=new m(h);else return new m(f===3?-0:0);return U?q(r,l,f):r}if(t=sr(r.e/$),s=sr(h.e/$),v=v.slice(),a=s-t,a){for(o=a<0,o?(e=v,a=-a,p=u.length):(e=u,t=s,p=v.length),i=Math.max(Math.ceil(l/$),p)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=v.length,p=u.length,o=i<p,o&&(p=i),i=0;i<p;i++)if(v[i]!=u[i]){o=v[i]<u[i];break}a=0}for(o&&(e=v,v=u,u=e,r.s=-r.s),p=v.length,i=u.length-p;i>0;--i)v[p++]=0;for(i=u.length;i>a;){if(v[--i]<u[i]){for(n=i;n&&v[--n]===0;)v[n]=gr-1;--v[n],v[i]+=gr}v[i]-=u[i]}for(;v[--p]===0;)v.pop();for(;v[0]===0;v.shift())--t;return v[0]?(r.d=v,r.e=ue(v,t),U?q(r,l,f):r):new m(f===3?-0:0)};O.modulo=O.mod=function(r){var e,t=this,i=t.constructor;return r=new i(r),!t.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||t.d&&!t.d[0]?q(new i(t),i.precision,i.rounding):(U=!1,i.modulo==9?(e=W(t,r.abs(),0,3,1),e.s*=r.s):e=W(t,r,0,i.modulo,1),e=e.times(r),U=!0,t.minus(e))};O.naturalExponential=O.exp=function(){return Ce(this)};O.naturalLogarithm=O.ln=function(){return Ar(this)};O.negated=O.neg=function(){var r=new this.constructor(this);return r.s=-r.s,q(r)};O.plus=O.add=function(r){var e,t,i,n,a,p,l,f,v,s,o=this,u=o.constructor;if(r=new u(r),!o.d||!r.d)return!o.s||!r.s?r=new u(NaN):o.d||(r=new u(r.d||o.s===r.s?o:NaN)),r;if(o.s!=r.s)return r.s=-r.s,o.minus(r);if(v=o.d,s=r.d,l=u.precision,f=u.rounding,!v[0]||!s[0])return s[0]||(r=new u(o)),U?q(r,l,f):r;if(a=sr(o.e/$),i=sr(r.e/$),v=v.slice(),n=a-i,n){for(n<0?(t=v,n=-n,p=s.length):(t=s,i=a,p=v.length),a=Math.ceil(l/$),p=a>p?a+1:p+1,n>p&&(n=p,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(p=v.length,n=s.length,p-n<0&&(n=p,t=s,s=v,v=t),e=0;n;)e=(v[--n]=v[n]+s[n]+e)/gr|0,v[n]%=gr;for(e&&(v.unshift(e),++i),p=v.length;v[--p]==0;)v.pop();return r.d=v,r.e=ue(v,i),U?q(r,l,f):r};O.precision=O.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Cr+r);return t.d?(e=xt(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};O.round=function(){var r=this,e=r.constructor;return q(new e(r),r.e+1,e.rounding)};O.sine=O.sin=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+$,i.rounding=1,t=Pi(i,Bt(i,t)),i.precision=r,i.rounding=e,q(Er>2?t.neg():t,r,e,!0)):new i(NaN)};O.squareRoot=O.sqrt=function(){var r,e,t,i,n,a,p=this,l=p.d,f=p.e,v=p.s,s=p.constructor;if(v!==1||!l||!l[0])return new s(!v||v<0&&(!l||l[0])?NaN:l?p:1/0);for(U=!1,v=Math.sqrt(+p),v==0||v==1/0?(e=or(l),(e.length+f)%2==0&&(e+="0"),v=Math.sqrt(e),f=sr((f+1)/2)-(f<0||f%2),v==1/0?e="5e"+f:(e=v.toExponential(),e=e.slice(0,e.indexOf("e")+1)+f),i=new s(e)):i=new s(v.toString()),t=(f=s.precision)+3;;)if(a=i,i=a.plus(W(p,a,t+2,1)).times(.5),or(a.d).slice(0,t)===(e=or(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(q(a,f+1,0),a.times(a).eq(p))){i=a;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(q(i,f+1,1),r=!i.times(i).eq(p));break}return U=!0,q(i,f,s.rounding,r)};O.tangent=O.tan=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,t=t.sin(),t.s=1,t=W(t,new i(1).minus(t.times(t)).sqrt(),r+10,0),i.precision=r,i.rounding=e,q(Er==2||Er==4?t.neg():t,r,e,!0)):new i(NaN)};O.times=O.mul=function(r){var e,t,i,n,a,p,l,f,v,s=this,o=s.constructor,u=s.d,h=(r=new o(r)).d;if(r.s*=s.s,!u||!u[0]||!h||!h[0])return new o(!r.s||u&&!u[0]&&!h||h&&!h[0]&&!u?NaN:!u||!h?r.s/0:r.s*0);for(t=sr(s.e/$)+sr(r.e/$),f=u.length,v=h.length,f<v&&(a=u,u=h,h=a,p=f,f=v,v=p),a=[],p=f+v,i=p;i--;)a.push(0);for(i=v;--i>=0;){for(e=0,n=f+i;n>i;)l=a[n]+h[i]*u[n-i-1]+e,a[n--]=l%gr|0,e=l/gr|0;a[n]=(a[n]+e)%gr|0}for(;!a[--p];)a.pop();return e?++t:a.shift(),r.d=a,r.e=ue(a,t),U?q(r,o.precision,o.rounding):r};O.toBinary=function(r,e){return ze(this,2,r,e)};O.toDecimalPlaces=O.toDP=function(r,e){var t=this,i=t.constructor;return t=new i(t),r===void 0?t:(hr(r,0,Ir),e===void 0?e=i.rounding:hr(e,0,8),q(t,r+t.e+1,e))};O.toExponential=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=_r(i,!0):(hr(r,0,Ir),e===void 0?e=n.rounding:hr(e,0,8),i=q(new n(i),r+1,e),t=_r(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+t:t};O.toFixed=function(r,e){var t,i,n=this,a=n.constructor;return r===void 0?t=_r(n):(hr(r,0,Ir),e===void 0?e=a.rounding:hr(e,0,8),i=q(new a(n),r+n.e+1,e),t=_r(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};O.toFraction=function(r){var e,t,i,n,a,p,l,f,v,s,o,u,h=this,m=h.d,c=h.constructor;if(!m)return new c(h);if(v=t=new c(1),i=f=new c(0),e=new c(i),a=e.e=xt(m)-h.e-1,p=a%$,e.d[0]=rr(10,p<0?$+p:p),r==null)r=a>0?e:v;else{if(l=new c(r),!l.isInt()||l.lt(v))throw Error(Cr+l);r=l.gt(e)?a>0?e:v:l}for(U=!1,l=new c(or(m)),s=c.precision,c.precision=a=m.length*$*2;o=W(l,e,0,1,1),n=t.plus(o.times(i)),n.cmp(r)!=1;)t=i,i=n,n=v,v=f.plus(o.times(n)),f=n,n=e,e=l.minus(o.times(n)),l=n;return n=W(r.minus(t),i,0,1,1),f=f.plus(n.times(v)),t=t.plus(n.times(i)),f.s=v.s=h.s,u=W(v,i,a,1).minus(h).abs().cmp(W(f,t,a,1).minus(h).abs())<1?[v,i]:[f,t],c.precision=s,U=!0,u};O.toHexadecimal=O.toHex=function(r,e){return ze(this,16,r,e)};O.toNearest=function(r,e){var t=this,i=t.constructor;if(t=new i(t),r==null){if(!t.d)return t;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:hr(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(U=!1,t=W(t,r,0,e,1).times(r),U=!0,q(t)):(r.s=t.s,t=r),t};O.toNumber=function(){return+this};O.toOctal=function(r,e){return ze(this,8,r,e)};O.toPower=O.pow=function(r){var e,t,i,n,a,p,l=this,f=l.constructor,v=+(r=new f(r));if(!l.d||!r.d||!l.d[0]||!r.d[0])return new f(rr(+l,v));if(l=new f(l),l.eq(1))return l;if(i=f.precision,a=f.rounding,r.eq(1))return q(l,i,a);if(e=sr(r.e/$),e>=r.d.length-1&&(t=v<0?-v:v)<=Ii)return n=It(f,l,t,i),r.s<0?new f(1).div(n):q(n,i,a);if(p=l.s,p<0){if(e<r.d.length-1)return new f(NaN);if((r.d[e]&1)==0&&(p=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=p,l}return t=rr(+l,v),e=t==0||!isFinite(t)?sr(v*(Math.log("0."+or(l.d))/Math.LN10+l.e+1)):new f(t+"").e,e>f.maxE+1||e<f.minE-1?new f(e>0?p/0:0):(U=!1,f.rounding=l.s=1,t=Math.min(12,(e+"").length),n=Ce(r.times(Ar(l,i+t)),i),n.d&&(n=q(n,i+5,1),Xr(n.d,i,a)&&(e=i+10,n=q(Ce(r.times(Ar(l,e+t)),e),e+5,1),+or(n.d).slice(i+1,i+15)+1==1e14&&(n=q(n,i+1,0)))),n.s=p,U=!0,f.rounding=a,q(n,i,a))};O.toPrecision=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=_r(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(hr(r,1,Ir),e===void 0?e=n.rounding:hr(e,0,8),i=q(new n(i),r,e),t=_r(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+t:t};O.toSignificantDigits=O.toSD=function(r,e){var t=this,i=t.constructor;return r===void 0?(r=i.precision,e=i.rounding):(hr(r,1,Ir),e===void 0?e=i.rounding:hr(e,0,8)),q(new i(t),r,e)};O.toString=function(){var r=this,e=r.constructor,t=_r(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};O.truncated=O.trunc=function(){return q(new this.constructor(this),this.e+1,1)};O.valueOf=O.toJSON=function(){var r=this,e=r.constructor,t=_r(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function or(r){var e,t,i,n=r.length-1,a="",p=r[0];if(n>0){for(a+=p,e=1;e<n;e++)i=r[e]+"",t=$-i.length,t&&(a+=Sr(t)),a+=i;p=r[e],i=p+"",t=$-i.length,t&&(a+=Sr(t))}else if(p===0)return"0";for(;p%10===0;)p/=10;return a+p}function hr(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Cr+r)}function Xr(r,e,t,i){var n,a,p,l;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=$,n=0):(n=Math.ceil((e+1)/$),e%=$),a=rr(10,$-e),l=r[n]%a|0,i==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),p=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):p=(t<4&&l+1==a||t>3&&l+1==a/2)&&(r[n+1]/a/100|0)==rr(10,e-2)-1||(l==a/2||l==0)&&(r[n+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),p=(i||t<4)&&l==9999||!i&&t>3&&l==4999):p=((i||t<4)&&l+1==a||!i&&t>3&&l+1==a/2)&&(r[n+1]/a/1e3|0)==rr(10,e-3)-1,p}function Jr(r,e,t){for(var i,n=[0],a,p=0,l=r.length;p<l;){for(a=n.length;a--;)n[a]*=e;for(n[0]+=Ee.indexOf(r.charAt(p++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function Fi(r,e){var t,i,n;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),n=(1/fe(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=Lr(r,1,e.times(n),new r(1));for(var a=t;a--;){var p=e.times(e);e=p.times(p).minus(p).times(8).plus(1)}return r.precision-=t,e}var W=function(){function r(i,n,a){var p,l=0,f=i.length;for(i=i.slice();f--;)p=i[f]*n+l,i[f]=p%a|0,l=p/a|0;return l&&i.unshift(l),i}function e(i,n,a,p){var l,f;if(a!=p)f=a>p?1:-1;else for(l=f=0;l<a;l++)if(i[l]!=n[l]){f=i[l]>n[l]?1:-1;break}return f}function t(i,n,a,p){for(var l=0;a--;)i[a]-=l,l=i[a]<n[a]?1:0,i[a]=l*p+i[a]-n[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,a,p,l,f){var v,s,o,u,h,m,c,d,g,N,w,b,A,I,x,_,S,B,F,z,j=i.constructor,V=i.s==n.s?1:-1,X=i.d,R=n.d;if(!X||!X[0]||!R||!R[0])return new j(!i.s||!n.s||(X?R&&X[0]==R[0]:!R)?NaN:X&&X[0]==0||!R?V*0:V/0);for(f?(h=1,s=i.e-n.e):(f=gr,h=$,s=sr(i.e/h)-sr(n.e/h)),F=R.length,S=X.length,g=new j(V),N=g.d=[],o=0;R[o]==(X[o]||0);o++);if(R[o]>(X[o]||0)&&s--,a==null?(I=a=j.precision,p=j.rounding):l?I=a+(i.e-n.e)+1:I=a,I<0)N.push(1),m=!0;else{if(I=I/h+2|0,o=0,F==1){for(u=0,R=R[0],I++;(o<S||u)&&I--;o++)x=u*f+(X[o]||0),N[o]=x/R|0,u=x%R|0;m=u||o<S}else{for(u=f/(R[0]+1)|0,u>1&&(R=r(R,u,f),X=r(X,u,f),F=R.length,S=X.length),_=F,w=X.slice(0,F),b=w.length;b<F;)w[b++]=0;z=R.slice(),z.unshift(0),B=R[0],R[1]>=f/2&&++B;do u=0,v=e(R,w,F,b),v<0?(A=w[0],F!=b&&(A=A*f+(w[1]||0)),u=A/B|0,u>1?(u>=f&&(u=f-1),c=r(R,u,f),d=c.length,b=w.length,v=e(c,w,d,b),v==1&&(u--,t(c,F<d?z:R,d,f))):(u==0&&(v=u=1),c=R.slice()),d=c.length,d<b&&c.unshift(0),t(w,c,b,f),v==-1&&(b=w.length,v=e(R,w,F,b),v<1&&(u++,t(w,F<b?z:R,b,f))),b=w.length):v===0&&(u++,w=[0]),N[o++]=u,v&&w[0]?w[b++]=X[_]||0:(w=[X[_]],b=1);while((_++<S||w[0]!==void 0)&&I--);m=w[0]!==void 0}N[0]||N.shift()}if(h==1)g.e=s,Mt=m;else{for(o=1,u=N[0];u>=10;u/=10)o++;g.e=o+s*h-1,q(g,l?a+g.e+1:a,p,m)}return g}}();function q(r,e,t,i){var n,a,p,l,f,v,s,o,u,h=r.constructor;r:if(e!=null){if(o=r.d,!o)return r;for(n=1,l=o[0];l>=10;l/=10)n++;if(a=e-n,a<0)a+=$,p=e,s=o[u=0],f=s/rr(10,n-p-1)%10|0;else if(u=Math.ceil((a+1)/$),l=o.length,u>=l)if(i){for(;l++<=u;)o.push(0);s=f=0,n=1,a%=$,p=a-$+1}else break r;else{for(s=l=o[u],n=1;l>=10;l/=10)n++;a%=$,p=a-$+n,f=p<0?0:s/rr(10,n-p-1)%10|0}if(i=i||e<0||o[u+1]!==void 0||(p<0?s:s%rr(10,n-p-1)),v=t<4?(f||i)&&(t==0||t==(r.s<0?3:2)):f>5||f==5&&(t==4||i||t==6&&(a>0?p>0?s/rr(10,n-p):0:o[u-1])%10&1||t==(r.s<0?8:7)),e<1||!o[0])return o.length=0,v?(e-=r.e+1,o[0]=rr(10,($-e%$)%$),r.e=-e||0):o[0]=r.e=0,r;if(a==0?(o.length=u,l=1,u--):(o.length=u+1,l=rr(10,$-a),o[u]=p>0?(s/rr(10,n-p)%rr(10,p)|0)*l:0),v)for(;;)if(u==0){for(a=1,p=o[0];p>=10;p/=10)a++;for(p=o[0]+=l,l=1;p>=10;p/=10)l++;a!=l&&(r.e++,o[0]==gr&&(o[0]=1));break}else{if(o[u]+=l,o[u]!=gr)break;o[u--]=0,l=1}for(a=o.length;o[--a]===0;)o.pop()}return U&&(r.e>h.maxE?(r.d=null,r.e=NaN):r.e<h.minE&&(r.e=0,r.d=[0])),r}function _r(r,e,t){if(!r.isFinite())return Ft(r);var i,n=r.e,a=or(r.d),p=a.length;return e?(t&&(i=t-p)>0?a=a.charAt(0)+"."+a.slice(1)+Sr(i):p>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):n<0?(a="0."+Sr(-n-1)+a,t&&(i=t-p)>0&&(a+=Sr(i))):n>=p?(a+=Sr(n+1-p),t&&(i=t-n-1)>0&&(a=a+"."+Sr(i))):((i=n+1)<p&&(a=a.slice(0,i)+"."+a.slice(i)),t&&(i=t-p)>0&&(n+1===p&&(a+="."),a+=Sr(i))),a}function ue(r,e){var t=r[0];for(e*=$;t>=10;t/=10)e++;return e}function ee(r,e,t){if(e>Oi)throw U=!0,t&&(r.precision=t),Error(Et);return q(new r(kr),e,1,!0)}function dr(r,e,t){if(e>Ae)throw Error(Et);return q(new r(re),e,t,!0)}function xt(r){var e=r.length-1,t=e*$+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Sr(r){for(var e="";r--;)e+="0";return e}function It(r,e,t,i){var n,a=new r(1),p=Math.ceil(i/$+4);for(U=!1;;){if(t%2&&(a=a.times(e),Ge(a.d,p)&&(n=!0)),t=sr(t/2),t===0){t=a.d.length-1,n&&a.d[t]===0&&++a.d[t];break}e=e.times(e),Ge(e.d,p)}return U=!0,a}function Ye(r){return r.d[r.d.length-1]&1}function Ot(r,e,t){for(var i,n=new r(e[0]),a=0;++a<e.length;)if(i=new r(e[a]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function Ce(r,e){var t,i,n,a,p,l,f,v=0,s=0,o=0,u=r.constructor,h=u.rounding,m=u.precision;if(!r.d||!r.d[0]||r.e>17)return new u(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(U=!1,f=m):f=e,l=new u(.03125);r.e>-2;)r=r.times(l),o+=5;for(i=Math.log(rr(2,o))/Math.LN10*2+5|0,f+=i,t=a=p=new u(1),u.precision=f;;){if(a=q(a.times(r),f,1),t=t.times(++s),l=p.plus(W(a,t,f,1)),or(l.d).slice(0,f)===or(p.d).slice(0,f)){for(n=o;n--;)p=q(p.times(p),f,1);if(e==null)if(v<3&&Xr(p.d,f-i,h,v))u.precision=f+=10,t=a=l=new u(1),s=0,v++;else return q(p,u.precision=m,h,U=!0);else return u.precision=m,p}p=l}}function Ar(r,e){var t,i,n,a,p,l,f,v,s,o,u,h=1,m=10,c=r,d=c.d,g=c.constructor,N=g.rounding,w=g.precision;if(c.s<0||!d||!d[0]||!c.e&&d[0]==1&&d.length==1)return new g(d&&!d[0]?-1/0:c.s!=1?NaN:d?0:c);if(e==null?(U=!1,s=w):s=e,g.precision=s+=m,t=or(d),i=t.charAt(0),Math.abs(a=c.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)c=c.times(r),t=or(c.d),i=t.charAt(0),h++;a=c.e,i>1?(c=new g("0."+t),a++):c=new g(i+"."+t.slice(1))}else return v=ee(g,s+2,w).times(a+""),c=Ar(new g(i+"."+t.slice(1)),s-m).plus(v),g.precision=w,e==null?q(c,w,N,U=!0):c;for(o=c,f=p=c=W(c.minus(1),c.plus(1),s,1),u=q(c.times(c),s,1),n=3;;){if(p=q(p.times(u),s,1),v=f.plus(W(p,new g(n),s,1)),or(v.d).slice(0,s)===or(f.d).slice(0,s))if(f=f.times(2),a!==0&&(f=f.plus(ee(g,s+2,w).times(a+""))),f=W(f,new g(h),s,1),e==null)if(Xr(f.d,s-m,N,l))g.precision=s+=m,v=p=c=W(o.minus(1),o.plus(1),s,1),u=q(c.times(c),s,1),n=l=1;else return q(f,g.precision=w,N,U=!0);else return g.precision=w,f;f=v,n+=2}}function Ft(r){return String(r.s*r.s/0)}function xe(r,e){var t,i,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,r.e=t=t-i-1,r.d=[],i=(t+1)%$,t<0&&(i+=$),i<n){for(i&&r.d.push(+e.slice(0,i)),n-=$;i<n;)r.d.push(+e.slice(i,i+=$));e=e.slice(i),i=$-e.length}else i-=n;for(;i--;)e+="0";r.d.push(+e),U&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Bi(r,e){var t,i,n,a,p,l,f,v,s;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Ct.test(e))return xe(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Ci.test(e))t=16,e=e.toLowerCase();else if(Ai.test(e))t=2;else if(xi.test(e))t=8;else throw Error(Cr+e);for(a=e.search(/p/i),a>0?(f=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),p=a>=0,i=r.constructor,p&&(e=e.replace(".",""),l=e.length,a=l-a,n=It(i,new i(t),a,a*2)),v=Jr(e,t,gr),s=v.length-1,a=s;v[a]===0;--a)v.pop();return a<0?new i(r.s*0):(r.e=ue(v,s),r.d=v,U=!1,p&&(r=W(r,n,l*4)),f&&(r=r.times(Math.abs(f)<54?rr(2,f):Fr.pow(2,f))),U=!0,r)}function Pi(r,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Lr(r,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/fe(5,t)),e=Lr(r,2,e,e);for(var n,a=new r(5),p=new r(16),l=new r(20);t--;)n=e.times(e),e=e.times(a.plus(n.times(p.times(n).minus(l))));return e}function Lr(r,e,t,i,n){var a,p,l,f,v=r.precision,s=Math.ceil(v/$);for(U=!1,f=t.times(t),l=new r(i);;){if(p=W(l.times(f),new r(e++*e++),v,1),l=n?i.plus(p):i.minus(p),i=W(p.times(f),new r(e++*e++),v,1),p=l.plus(i),p.d[s]!==void 0){for(a=s;p.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=i,i=p,p=a}return U=!0,p.d.length=s+1,p}function fe(r,e){for(var t=r;--e;)t*=r;return t}function Bt(r,e){var t,i=e.s<0,n=dr(r,r.precision,1),a=n.times(.5);if(e=e.abs(),e.lte(a))return Er=i?4:1,e;if(t=e.divToInt(n),t.isZero())Er=i?3:2;else{if(e=e.minus(t.times(n)),e.lte(a))return Er=Ye(t)?i?2:3:i?4:1,e;Er=Ye(t)?i?1:4:i?3:2}return e.minus(n).abs()}function ze(r,e,t,i){var n,a,p,l,f,v,s,o,u,h=r.constructor,m=t!==void 0;if(m?(hr(t,1,Ir),i===void 0?i=h.rounding:hr(i,0,8)):(t=h.precision,i=h.rounding),!r.isFinite())s=Ft(r);else{for(s=_r(r),p=s.indexOf("."),m?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,p>=0&&(s=s.replace(".",""),u=new h(1),u.e=s.length-p,u.d=Jr(_r(u),10,n),u.e=u.d.length),o=Jr(s,10,n),a=f=o.length;o[--f]==0;)o.pop();if(!o[0])s=m?"0p+0":"0";else{if(p<0?a--:(r=new h(r),r.d=o,r.e=a,r=W(r,u,t,i,0,n),o=r.d,a=r.e,v=Mt),p=o[t],l=n/2,v=v||o[t+1]!==void 0,v=i<4?(p!==void 0||v)&&(i===0||i===(r.s<0?3:2)):p>l||p===l&&(i===4||v||i===6&&o[t-1]&1||i===(r.s<0?8:7)),o.length=t,v)for(;++o[--t]>n-1;)o[t]=0,t||(++a,o.unshift(1));for(f=o.length;!o[f-1];--f);for(p=0,s="";p<f;p++)s+=Ee.charAt(o[p]);if(m){if(f>1)if(e==16||e==8){for(p=e==16?4:3,--f;f%p;f++)s+="0";for(o=Jr(s,n,e),f=o.length;!o[f-1];--f);for(p=1,s="1.";p<f;p++)s+=Ee.charAt(o[p])}else s=s.charAt(0)+"."+s.slice(1);s=s+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)s="0"+s;s="0."+s}else if(++a>f)for(a-=f;a--;)s+="0";else a<f&&(s=s.slice(0,a)+"."+s.slice(a))}s=(e==16?"0x":e==2?"0b":e==8?"0o":"")+s}return r.s<0?"-"+s:s}function Ge(r,e){if(r.length>e)return r.length=e,!0}function Ti(r){return new this(r).abs()}function zi(r){return new this(r).acos()}function Di(r){return new this(r).acosh()}function qi(r,e){return new this(r).plus(e)}function Ri(r){return new this(r).asin()}function Li(r){return new this(r).asinh()}function $i(r){return new this(r).atan()}function Zi(r){return new this(r).atanh()}function Ui(r,e){r=new this(r),e=new this(e);var t,i=this.precision,n=this.rounding,a=i+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=dr(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?dr(this,i,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=dr(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(W(r,e,a,1)),e=dr(this,a,1),this.precision=i,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(W(r,e,a,1)),t}function ji(r){return new this(r).cbrt()}function Xi(r){return q(r=new this(r),r.e+1,2)}function Hi(r,e,t){return new this(r).clamp(e,t)}function Vi(r){if(!r||typeof r!="object")throw Error(se+"Object expected");var e,t,i,n=r.defaults===!0,a=["precision",1,Ir,"rounding",0,8,"toExpNeg",-Dr,0,"toExpPos",0,Dr,"maxE",0,Dr,"minE",-Dr,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],n&&(this[t]=Se[t]),(i=r[t])!==void 0)if(sr(i)===i&&i>=a[e+1]&&i<=a[e+2])this[t]=i;else throw Error(Cr+t+": "+i);if(t="crypto",n&&(this[t]=Se[t]),(i=r[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(St);else this[t]=!1;else throw Error(Cr+t+": "+i);return this}function Wi(r){return new this(r).cos()}function Ji(r){return new this(r).cosh()}function Pt(r){var e,t,i;function n(a){var p,l,f,v=this;if(!(v instanceof n))return new n(a);if(v.constructor=n,Ke(a)){v.s=a.s,U?!a.d||a.e>n.maxE?(v.e=NaN,v.d=null):a.e<n.minE?(v.e=0,v.d=[0]):(v.e=a.e,v.d=a.d.slice()):(v.e=a.e,v.d=a.d?a.d.slice():a.d);return}if(f=typeof a,f==="number"){if(a===0){v.s=1/a<0?-1:1,v.e=0,v.d=[0];return}if(a<0?(a=-a,v.s=-1):v.s=1,a===~~a&&a<1e7){for(p=0,l=a;l>=10;l/=10)p++;U?p>n.maxE?(v.e=NaN,v.d=null):p<n.minE?(v.e=0,v.d=[0]):(v.e=p,v.d=[a]):(v.e=p,v.d=[a]);return}else if(a*0!==0){a||(v.s=NaN),v.e=NaN,v.d=null;return}return xe(v,a.toString())}else if(f!=="string")throw Error(Cr+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),v.s=-1):(l===43&&(a=a.slice(1)),v.s=1),Ct.test(a)?xe(v,a):Bi(v,a)}if(n.prototype=O,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=Vi,n.clone=Pt,n.isDecimal=Ke,n.abs=Ti,n.acos=zi,n.acosh=Di,n.add=qi,n.asin=Ri,n.asinh=Li,n.atan=$i,n.atanh=Zi,n.atan2=Ui,n.cbrt=ji,n.ceil=Xi,n.clamp=Hi,n.cos=Wi,n.cosh=Ji,n.div=Yi,n.exp=Gi,n.floor=Ki,n.hypot=Qi,n.ln=ki,n.log=ro,n.log10=to,n.log2=eo,n.max=no,n.min=io,n.mod=oo,n.mul=ao,n.pow=so,n.random=uo,n.round=fo,n.sign=co,n.sin=ho,n.sinh=lo,n.sqrt=po,n.sub=vo,n.sum=mo,n.tan=go,n.tanh=wo,n.trunc=yo,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(t=i[e++])||(r[t]=this[t]);return n.config(r),n}function Yi(r,e){return new this(r).div(e)}function Gi(r){return new this(r).exp()}function Ki(r){return q(r=new this(r),r.e+1,3)}function Qi(){var r,e,t=new this(0);for(U=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return U=!0,new this(1/0);t=e}return U=!0,t.sqrt()}function Ke(r){return r instanceof Fr||r&&r.toStringTag===At||!1}function ki(r){return new this(r).ln()}function ro(r,e){return new this(r).log(e)}function eo(r){return new this(r).log(2)}function to(r){return new this(r).log(10)}function no(){return Ot(this,arguments,"lt")}function io(){return Ot(this,arguments,"gt")}function oo(r,e){return new this(r).mod(e)}function ao(r,e){return new this(r).mul(e)}function so(r,e){return new this(r).pow(e)}function uo(r){var e,t,i,n,a=0,p=new this(1),l=[];if(r===void 0?r=this.precision:hr(r,1,Ir),i=Math.ceil(r/$),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)n=e[a],n>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)n=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(n%1e7),a+=4);a=i/4}else throw Error(St);else for(;a<i;)l[a++]=Math.random()*1e7|0;for(i=l[--a],r%=$,i&&r&&(n=rr(10,$-r),l[a]=(i/n|0)*n);l[a]===0;a--)l.pop();if(a<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=$)l.shift();for(i=1,n=l[0];n>=10;n/=10)i++;i<$&&(t-=$-i)}return p.e=t,p.d=l,p}function fo(r){return q(r=new this(r),r.e+1,this.rounding)}function co(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function ho(r){return new this(r).sin()}function lo(r){return new this(r).sinh()}function po(r){return new this(r).sqrt()}function vo(r,e){return new this(r).sub(e)}function mo(){var r=0,e=arguments,t=new this(e[r]);for(U=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return U=!0,q(t,this.precision,this.rounding)}function go(r){return new this(r).tan()}function wo(r){return new this(r).tanh()}function yo(r){return q(r=new this(r),r.e+1,1)}O[Symbol.for("nodejs.util.inspect.custom")]=O.toString;O[Symbol.toStringTag]="Decimal";var Fr=O.constructor=Pt(Se);kr=new Fr(kr);re=new Fr(re);var No="BigNumber",bo=["?on","config"],_o=tr(No,bo,r=>{var{on:e,config:t}=r,i=Fr.clone({precision:t.precision,modulo:Fr.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,a){n.precision!==a.precision&&i.config({precision:n.precision})}),i},{isClass:!0}),Tt={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(t){var i=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},n=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},a=function(o){var u=Math.PI/4;if(-u>o||o>u)return Math.cos(o)-1;var h=o*o;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},p=function(o,u){var h=Math.abs(o),m=Math.abs(u);return h<3e3&&m<3e3?Math.sqrt(h*h+m*m):(h<m?(h=m,m=o/u):m=u/o,h*Math.sqrt(1+m*m))},l=function(){throw SyntaxError("Invalid Param")};function f(o,u){var h=Math.abs(o),m=Math.abs(u);return o===0?Math.log(m):u===0?Math.log(h):h<3e3&&m<3e3?Math.log(o*o+u*u)*.5:(o=o/2,u=u/2,.5*Math.log(o*o+u*u)+Math.LN2)}var v=function(o,u){var h={re:0,im:0};if(o==null)h.re=h.im=0;else if(u!==void 0)h.re=o,h.im=u;else switch(typeof o){case"object":if("im"in o&&"re"in o)h.re=o.re,h.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;h.re=o.abs*Math.cos(o.arg),h.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;h.re=o.r*Math.cos(o.phi),h.im=o.r*Math.sin(o.phi)}else o.length===2?(h.re=o[0],h.im=o[1]):l();break;case"string":h.im=h.re=0;var m=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),c=1,d=0;m===null&&l();for(var g=0;g<m.length;g++){var N=m[g];N===" "||N==="	"||N===`
`||(N==="+"?c++:N==="-"?d++:N==="i"||N==="I"?(c+d===0&&l(),m[g+1]!==" "&&!isNaN(m[g+1])?(h.im+=parseFloat((d%2?"-":"")+m[g+1]),g++):h.im+=parseFloat((d%2?"-":"")+"1"),c=d=0):((c+d===0||isNaN(N))&&l(),m[g+1]==="i"||m[g+1]==="I"?(h.im+=parseFloat((d%2?"-":"")+N),g++):h.re+=parseFloat((d%2?"-":"")+N),c=d=0))}c+d>0&&l();break;case"number":h.im=0,h.re=o;break;default:l()}return isNaN(h.re)||isNaN(h.im),h};function s(o,u){if(!(this instanceof s))return new s(o,u);var h=v(o,u);this.re=h.re,this.im=h.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,u){var h=new s(o,u);return this.isInfinite()&&h.isInfinite()?s.NAN:this.isInfinite()||h.isInfinite()?s.INFINITY:new s(this.re+h.re,this.im+h.im)},sub:function(o,u){var h=new s(o,u);return this.isInfinite()&&h.isInfinite()?s.NAN:this.isInfinite()||h.isInfinite()?s.INFINITY:new s(this.re-h.re,this.im-h.im)},mul:function(o,u){var h=new s(o,u);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?s.NAN:this.isInfinite()||h.isInfinite()?s.INFINITY:h.im===0&&this.im===0?new s(this.re*h.re,0):new s(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(o,u){var h=new s(o,u);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return s.NAN;if(this.isInfinite()||h.isZero())return s.INFINITY;if(this.isZero()||h.isInfinite())return s.ZERO;o=this.re,u=this.im;var m=h.re,c=h.im,d,g;return c===0?new s(o/m,u/m):Math.abs(m)<Math.abs(c)?(g=m/c,d=m*g+c,new s((o*g+u)/d,(u*g-o)/d)):(g=c/m,d=c*g+m,new s((o+u*g)/d,(u-o*g)/d))},pow:function(o,u){var h=new s(o,u);if(o=this.re,u=this.im,h.isZero())return s.ONE;if(h.im===0){if(u===0&&o>0)return new s(Math.pow(o,h.re),0);if(o===0)switch((h.re%4+4)%4){case 0:return new s(Math.pow(u,h.re),0);case 1:return new s(0,Math.pow(u,h.re));case 2:return new s(-Math.pow(u,h.re),0);case 3:return new s(0,-Math.pow(u,h.re))}}if(o===0&&u===0&&h.re>0&&h.im>=0)return s.ZERO;var m=Math.atan2(u,o),c=f(o,u);return o=Math.exp(h.re*c-h.im*m),u=h.im*c+h.re*m,new s(o*Math.cos(u),o*Math.sin(u))},sqrt:function(){var o=this.re,u=this.im,h=this.abs(),m,c;if(o>=0){if(u===0)return new s(Math.sqrt(o),0);m=.5*Math.sqrt(2*(h+o))}else m=Math.abs(u)/Math.sqrt(2*(h-o));return o<=0?c=.5*Math.sqrt(2*(h-o)):c=Math.abs(u)/Math.sqrt(2*(h+o)),new s(m,u<0?-c:c)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,u=this.im;return new s(Math.expm1(o)*Math.cos(u)+a(u),Math.exp(o)*Math.sin(u))},log:function(){var o=this.re,u=this.im;return new s(f(o,u),Math.atan2(u,o))},abs:function(){return p(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,u=this.im;return new s(Math.sin(o)*i(u),Math.cos(o)*n(u))},cos:function(){var o=this.re,u=this.im;return new s(Math.cos(o)*i(u),-Math.sin(o)*n(u))},tan:function(){var o=2*this.re,u=2*this.im,h=Math.cos(o)+i(u);return new s(Math.sin(o)/h,n(u)/h)},cot:function(){var o=2*this.re,u=2*this.im,h=Math.cos(o)-i(u);return new s(-Math.sin(o)/h,n(u)/h)},sec:function(){var o=this.re,u=this.im,h=.5*i(2*u)+.5*Math.cos(2*o);return new s(Math.cos(o)*i(u)/h,Math.sin(o)*n(u)/h)},csc:function(){var o=this.re,u=this.im,h=.5*i(2*u)-.5*Math.cos(2*o);return new s(Math.sin(o)*i(u)/h,-Math.cos(o)*n(u)/h)},asin:function(){var o=this.re,u=this.im,h=new s(u*u-o*o+1,-2*o*u).sqrt(),m=new s(h.re-u,h.im+o).log();return new s(m.im,-m.re)},acos:function(){var o=this.re,u=this.im,h=new s(u*u-o*o+1,-2*o*u).sqrt(),m=new s(h.re-u,h.im+o).log();return new s(Math.PI/2-m.im,m.re)},atan:function(){var o=this.re,u=this.im;if(o===0){if(u===1)return new s(0,1/0);if(u===-1)return new s(0,-1/0)}var h=o*o+(1-u)*(1-u),m=new s((1-u*u-o*o)/h,-2*o/h).log();return new s(-.5*m.im,.5*m.re)},acot:function(){var o=this.re,u=this.im;if(u===0)return new s(Math.atan2(1,o),0);var h=o*o+u*u;return h!==0?new s(o/h,-u/h).atan():new s(o!==0?o/0:0,u!==0?-u/0:0).atan()},asec:function(){var o=this.re,u=this.im;if(o===0&&u===0)return new s(0,1/0);var h=o*o+u*u;return h!==0?new s(o/h,-u/h).acos():new s(o!==0?o/0:0,u!==0?-u/0:0).acos()},acsc:function(){var o=this.re,u=this.im;if(o===0&&u===0)return new s(Math.PI/2,1/0);var h=o*o+u*u;return h!==0?new s(o/h,-u/h).asin():new s(o!==0?o/0:0,u!==0?-u/0:0).asin()},sinh:function(){var o=this.re,u=this.im;return new s(n(o)*Math.cos(u),i(o)*Math.sin(u))},cosh:function(){var o=this.re,u=this.im;return new s(i(o)*Math.cos(u),n(o)*Math.sin(u))},tanh:function(){var o=2*this.re,u=2*this.im,h=i(o)+Math.cos(u);return new s(n(o)/h,Math.sin(u)/h)},coth:function(){var o=2*this.re,u=2*this.im,h=i(o)-Math.cos(u);return new s(n(o)/h,-Math.sin(u)/h)},csch:function(){var o=this.re,u=this.im,h=Math.cos(2*u)-i(2*o);return new s(-2*n(o)*Math.cos(u)/h,2*i(o)*Math.sin(u)/h)},sech:function(){var o=this.re,u=this.im,h=Math.cos(2*u)+i(2*o);return new s(2*i(o)*Math.cos(u)/h,-2*n(o)*Math.sin(u)/h)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var u=this.asin();return this.re=-this.im,this.im=o,o=u.re,u.re=-u.im,u.im=o,u},acosh:function(){var o=this.acos();if(o.im<=0){var u=o.re;o.re=-o.im,o.im=u}else{var u=o.im;o.im=-o.re,o.re=u}return o},atanh:function(){var o=this.re,u=this.im,h=o>1&&u===0,m=1-o,c=1+o,d=m*m+u*u,g=d!==0?new s((c*m-u*u)/d,(u*m+c*u)/d):new s(o!==-1?o/0:0,u!==0?u/0:0),N=g.re;return g.re=f(g.re,g.im)/2,g.im=Math.atan2(g.im,N)/2,h&&(g.im=-g.im),g},acoth:function(){var o=this.re,u=this.im;if(o===0&&u===0)return new s(0,Math.PI/2);var h=o*o+u*u;return h!==0?new s(o/h,-u/h).atanh():new s(o!==0?o/0:0,u!==0?-u/0:0).atanh()},acsch:function(){var o=this.re,u=this.im;if(u===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var h=o*o+u*u;return h!==0?new s(o/h,-u/h).asinh():new s(o!==0?o/0:0,u!==0?-u/0:0).asinh()},asech:function(){var o=this.re,u=this.im;if(this.isZero())return s.INFINITY;var h=o*o+u*u;return h!==0?new s(o/h,-u/h).acosh():new s(o!==0?o/0:0,u!==0?-u/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,u=this.im,h=o*o+u*u;return new s(o/h,-u/h)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,u){var h=new s(o,u);return Math.abs(h.re-this.re)<=s.EPSILON&&Math.abs(h.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,u=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(u)<s.EPSILON&&(u=0),u===0?h+o:(o!==0?(h+=o,h+=" ",u<0?(u=-u,h+="-"):h+="+",h+=" "):u<0&&(u=-u,h+="-"),u!==1&&(h+=u),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,r.exports=s})()})(Tt);var fr=it(Tt.exports),Mo="Complex",Eo=[],So=tr(Mo,Eo,()=>(fr.prototype.type="Complex",fr.prototype.isComplex=!0,fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},fr.prototype.format=function(r){var e="",t=this.im,i=this.re,n=be(this.re,r),a=be(this.im,r),p=k(r)?r:r?r.precision:null;if(p!==null){var l=Math.pow(10,-p);Math.abs(i/t)<l&&(i=0),Math.abs(t/i)<l&&(t=0)}return t===0?e=n:i===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=n+" - i":e=n+" - "+a.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+a+"i",e},fr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return fr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(k(t)){if(Pe(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),k(i))return new fr({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},fr.prototype.valueOf=fr.prototype.toString,fr.fromJSON=function(r){return new fr(r)},fr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},fr),{isClass:!0}),zt={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(t){var i=2e3,n={s:1,n:0,d:1};function a(m,c){if(isNaN(m=parseInt(m,10)))throw h.InvalidParameter;return m*c}function p(m,c){if(c===0)throw h.DivisionByZero;var d=Object.create(h.prototype);d.s=m<0?-1:1,m=m<0?-m:m;var g=u(m,c);return d.n=m/g,d.d=c/g,d}function l(m){for(var c={},d=m,g=2,N=4;N<=d;){for(;d%g===0;)d/=g,c[g]=(c[g]||0)+1;N+=1+2*g++}return d!==m?d>1&&(c[d]=(c[d]||0)+1):c[m]=(c[m]||0)+1,c}var f=function(m,c){var d=0,g=1,N=1,w=0,b=0,A=0,I=1,x=1,_=0,S=1,B=1,F=1,z=1e7,j;if(m!=null)if(c!==void 0){if(d=m,g=c,N=d*g,d%1!==0||g%1!==0)throw h.NonIntegerParameter}else switch(typeof m){case"object":{if("d"in m&&"n"in m)d=m.n,g=m.d,"s"in m&&(d*=m.s);else if(0 in m)d=m[0],1 in m&&(g=m[1]);else throw h.InvalidParameter;N=d*g;break}case"number":{if(m<0&&(N=m,m=-m),m%1===0)d=m;else if(m>0){for(m>=1&&(x=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=x);S<=z&&F<=z;)if(j=(_+B)/(S+F),m===j){S+F<=z?(d=_+B,g=S+F):F>S?(d=B,g=F):(d=_,g=S);break}else m>j?(_+=B,S+=F):(B+=_,F+=S),S>z?(d=B,g=F):(d=_,g=S);d*=x}else(isNaN(m)||isNaN(c))&&(g=d=NaN);break}case"string":{if(S=m.match(/\d+|./g),S===null)throw h.InvalidParameter;if(S[_]==="-"?(N=-1,_++):S[_]==="+"&&_++,S.length===_+1?b=a(S[_++],N):S[_+1]==="."||S[_]==="."?(S[_]!=="."&&(w=a(S[_++],N)),_++,(_+1===S.length||S[_+1]==="("&&S[_+3]===")"||S[_+1]==="'"&&S[_+3]==="'")&&(b=a(S[_],N),I=Math.pow(10,S[_].length),_++),(S[_]==="("&&S[_+2]===")"||S[_]==="'"&&S[_+2]==="'")&&(A=a(S[_+1],N),x=Math.pow(10,S[_+1].length)-1,_+=3)):S[_+1]==="/"||S[_+1]===":"?(b=a(S[_],N),I=a(S[_+2],1),_+=3):S[_+3]==="/"&&S[_+1]===" "&&(w=a(S[_],N),b=a(S[_+2],N),I=a(S[_+4],1),_+=5),S.length<=_){g=I*x,N=d=A+g*w+x*b;break}}default:throw h.InvalidParameter}if(g===0)throw h.DivisionByZero;n.s=N<0?-1:1,n.n=Math.abs(d),n.d=Math.abs(g)};function v(m,c,d){for(var g=1;c>0;m=m*m%d,c>>=1)c&1&&(g=g*m%d);return g}function s(m,c){for(;c%2===0;c/=2);for(;c%5===0;c/=5);if(c===1)return 0;for(var d=10%c,g=1;d!==1;g++)if(d=d*10%c,g>i)return 0;return g}function o(m,c,d){for(var g=1,N=v(10,d,c),w=0;w<300;w++){if(g===N)return w;g=g*10%c,N=N*10%c}return 0}function u(m,c){if(!m)return c;if(!c)return m;for(;;){if(m%=c,!m)return c;if(c%=m,!c)return m}}function h(m,c){if(f(m,c),this instanceof h)m=u(n.d,n.n),this.s=n.s,this.n=n.n/m,this.d=n.d/m;else return p(n.s*n.n,n.d)}h.DivisionByZero=new Error("Division by Zero"),h.InvalidParameter=new Error("Invalid argument"),h.NonIntegerParameter=new Error("Parameters must be integer"),h.prototype={s:1,n:0,d:1,abs:function(){return p(this.n,this.d)},neg:function(){return p(-this.s*this.n,this.d)},add:function(m,c){return f(m,c),p(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(m,c){return f(m,c),p(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(m,c){return f(m,c),p(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(m,c){return f(m,c),p(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return p(this.s*this.n,this.d)},mod:function(m,c){if(isNaN(this.n)||isNaN(this.d))return new h(NaN);if(m===void 0)return p(this.s*this.n%this.d,1);if(f(m,c),n.n===0&&this.d===0)throw h.DivisionByZero;return p(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(m,c){return f(m,c),p(u(n.n,this.n)*u(n.d,this.d),n.d*this.d)},lcm:function(m,c){return f(m,c),n.n===0&&this.n===0?p(0,1):p(n.n*this.n,u(n.n,this.n)*u(n.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):p(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):p(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):p(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return p(this.s*this.d,this.n)},pow:function(m,c){if(f(m,c),n.d===1)return n.s<0?p(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):p(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var d=l(this.n),g=l(this.d),N=1,w=1;for(var b in d)if(b!=="1"){if(b==="0"){N=0;break}if(d[b]*=n.n,d[b]%n.d===0)d[b]/=n.d;else return null;N*=Math.pow(b,d[b])}for(var b in g)if(b!=="1"){if(g[b]*=n.n,g[b]%n.d===0)g[b]/=n.d;else return null;w*=Math.pow(b,g[b])}return n.s<0?p(w,N):p(N,w)},equals:function(m,c){return f(m,c),this.s*this.n*n.d===n.s*n.n*this.d},compare:function(m,c){f(m,c);var d=this.s*this.n*n.d-n.s*n.n*this.d;return(0<d)-(d<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var c=this.abs(),d=c.toContinued(),g=1;g<d.length;g++){for(var N=p(d[g-1],1),w=g-2;w>=0;w--)N=N.inverse().add(d[w]);if(N.sub(c).abs().valueOf()<m)return N.mul(this.s)}return this},divisible:function(m,c){return f(m,c),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var c,d="",g=this.n,N=this.d;return this.s<0&&(d+="-"),N===1?d+=g:(m&&(c=Math.floor(g/N))>0&&(d+=c,d+=" ",g%=N),d+=g,d+="/",d+=N),d},toLatex:function(m){var c,d="",g=this.n,N=this.d;return this.s<0&&(d+="-"),N===1?d+=g:(m&&(c=Math.floor(g/N))>0&&(d+=c,g%=N),d+="\\frac{",d+=g,d+="}{",d+=N,d+="}"),d},toContinued:function(){var m,c=this.n,d=this.d,g=[];if(isNaN(c)||isNaN(d))return g;do g.push(Math.floor(c/d)),m=c%d,c=d,d=m;while(c!==1);return g},toString:function(m){var c=this.n,d=this.d;if(isNaN(c)||isNaN(d))return"NaN";m=m||15;var g=s(c,d),N=o(c,d,g),w=this.s<0?"-":"";if(w+=c/d|0,c%=d,c*=10,c&&(w+="."),g){for(var b=N;b--;)w+=c/d|0,c%=d,c*=10;w+="(";for(var b=g;b--;)w+=c/d|0,c%=d,c*=10;w+=")"}else for(var b=m;c&&b--;)w+=c/d|0,c%=d,c*=10;return w}},Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Fraction=h,r.exports=h})()})(zt);var Tr=it(zt.exports),Ao="Fraction",Co=[],xo=tr(Ao,Co,()=>(Tr.prototype.type="Fraction",Tr.prototype.isFraction=!0,Tr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Tr.fromJSON=function(r){return new Tr(r)},Tr),{isClass:!0}),Io="Matrix",Oo=[],Fo=tr(Io,Oo,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0}),Bo="DenseMatrix",Po=["Matrix"],To=tr(Bo,Po,r=>{var{Matrix:e}=r;function t(s,o){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Mr(o))throw new Error("Invalid datatype: "+o);if(br(s))s.type==="DenseMatrix"?(this._data=ir(s._data),this._size=ir(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&G(s.data)&&G(s.size))this._data=s.data,this._size=s.size,Je(this._data,this._size),this._datatype=o||s.datatype;else if(G(s))this._data=v(s),this._size=Kr(this._data),Je(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+jr(s)+")");this._data=[],this._size=[0],this._datatype=o}}t.prototype=new e,t.prototype.createDenseMatrix=function(s,o){return new t(s,o)},t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Qr(this._data,jr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(s,o){return new t(s,o)},t.prototype.subset=function(s,o,u){switch(arguments.length){case 1:return i(this,s);case 2:case 3:return a(this,s,o,u);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(s){if(!G(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new Q(s.length,this._size.length);for(var o=0;o<s.length;o++)K(s[o],this._size[o]);for(var u=this._data,h=0,m=s.length;h<m;h++){var c=s[h];K(c,u.length),u=u[c]}return u},t.prototype.set=function(s,o,u){if(!G(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new Q(s.length,this._size.length,"<");var h,m,c,d=s.map(function(N){return N+1});f(this,d,u);var g=this._data;for(h=0,m=s.length-1;h<m;h++)c=s[h],K(c,g.length),g=g[c];return c=s[s.length-1],K(c,g.length),g[c]=o,this};function i(s,o){if(!ie(o))throw new TypeError("Invalid index");var u=o.isScalar();if(u)return s.get(o.min());var h=o.size();if(h.length!==s._size.length)throw new Q(h.length,s._size.length);for(var m=o.min(),c=o.max(),d=0,g=s._size.length;d<g;d++)K(m[d],s._size[d]),K(c[d],s._size[d]);return new t(n(s._data,o,h.length,0),s._datatype)}function n(s,o,u,h){var m=h===u-1,c=o.dimension(h);return m?c.map(function(d){return K(d,s.length),s[d]}).valueOf():c.map(function(d){K(d,s.length);var g=s[d];return n(g,o,u,h+1)}).valueOf()}function a(s,o,u,h){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var m=o.size(),c=o.isScalar(),d;if(br(u)?(d=u.size(),u=u.valueOf()):d=Kr(u),c){if(d.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),u,h)}else{if(m.length<s._size.length)throw new Q(m.length,s._size.length,"<");if(d.length<m.length){for(var g=0,N=0;m[g]===1&&d[g]===1;)g++;for(;m[g]===1;)N++,g++;u=wt(u,m.length,N,d)}if(!Yr(m,d))throw new Q(m,d,">");var w=o.max().map(function(I){return I+1});f(s,w,h);var b=m.length,A=0;p(s._data,o,u,b,A)}return s}function p(s,o,u,h,m){var c=m===h-1,d=o.dimension(m);c?d.forEach(function(g,N){K(g),s[g]=u[N[0]]}):d.forEach(function(g,N){K(g),p(s[g],o,u[N[0]],h,m+1)})}t.prototype.resize=function(s,o,u){if(!at(s))throw new TypeError("Array or Matrix expected");var h=s.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),m=u?this.clone():this;return l(m,h,o)};function l(s,o,u){if(o.length===0){for(var h=s._data;G(h);)h=h[0];return h}return s._size=o.slice(0),s._data=_e(s._data,s._size,u),s}t.prototype.reshape=function(s,o){var u=o?this.clone():this;u._data=fi(u._data,s);var h=u._size.reduce((m,c)=>m*c);return u._size=Te(s,h),u};function f(s,o,u){for(var h=s._size.slice(0),m=!1;h.length<o.length;)h.push(0),m=!0;for(var c=0,d=o.length;c<d;c++)o[c]>h[c]&&(h[c]=o[c],m=!0);m&&l(s,h,u)}t.prototype.clone=function(){var s=new t({data:ir(this._data),size:ir(this._size),datatype:this._datatype});return s},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(s){var o=this,u=function c(d,g){return G(d)?d.map(function(N,w){return c(N,g.concat(w))}):s(d,g,o)},h=u(this._data,[]),m=this._datatype!==void 0?Qr(h,jr):void 0;return new t(h,m)},t.prototype.forEach=function(s){var o=this,u=function h(m,c){G(m)?m.forEach(function(d,g){h(d,c.concat(g))}):s(m,c,o)};u(this._data,[])},t.prototype[Symbol.iterator]=function*(){var s=function*o(u,h){if(G(u))for(var m=0;m<u.length;m++)yield*o(u[m],h.concat(m));else yield{value:u,index:h}};yield*s(this._data,[])},t.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var u=this._data;for(var h of u)s.push(new t([h],this._datatype));return s},t.prototype.columns=function(){var s=this,o=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,m=function(g){var N=h.map(w=>[w[g]]);o.push(new t(N,s._datatype))},c=0;c<u[1];c++)m(c);return o},t.prototype.toArray=function(){return ir(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(s){return cr(this._data,s)},t.prototype.toString=function(){return cr(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(s){if(s){if(vr(s)&&(s=s.toNumber()),!k(s)||!er(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,u=s<0?-s:0,h=this._size[0],m=this._size[1],c=Math.min(h-u,m-o),d=[],g=0;g<c;g++)d[g]=this._data[g+u][g+o];return new t({data:d,size:[c],datatype:this._datatype})},t.diagonal=function(s,o,u,h){if(!G(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(x){if(vr(x)&&(x=x.toNumber()),!k(x)||!er(x)||x<1)throw new Error("Size values must be positive integers");return x}),u){if(vr(u)&&(u=u.toNumber()),!k(u)||!er(u))throw new TypeError("The parameter k must be an integer number")}else u=0;var m=u>0?u:0,c=u<0?-u:0,d=s[0],g=s[1],N=Math.min(d-c,g-m),w;if(G(o)){if(o.length!==N)throw new Error("Invalid value array length");w=function(_){return o[_]}}else if(br(o)){var b=o.size();if(b.length!==1||b[0]!==N)throw new Error("Invalid matrix length");w=function(_){return o.get([_])}}else w=function(){return o};h||(h=vr(w(0))?w(0).mul(0):0);var A=[];if(s.length>0){A=_e(A,s,h);for(var I=0;I<N;I++)A[I+c][I+m]=w(I)}return new t({data:A,size:[d,g]})},t.fromJSON=function(s){return new t(s)},t.prototype.swapRows=function(s,o){if(!k(s)||!er(s)||!k(o)||!er(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return K(s,this._size[0]),K(o,this._size[0]),t._swapRows(s,o,this._data),this},t._swapRows=function(s,o,u){var h=u[s];u[s]=u[o],u[o]=h};function v(s){for(var o=0,u=s.length;o<u;o++){var h=s[o];G(h)?s[o]=v(h):h&&h.isMatrix===!0&&(s[o]=v(h.valueOf()))}return s}return t},{isClass:!0});function te(r,e,t){return r&&typeof r.map=="function"?r.map(function(i){return te(i,e)}):e(r)}function Qe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!er(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(pt(r,e))}function Ie(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var i=r.minus(e).abs();if(i.isZero())return!0;var n=r.constructor.max(r.abs(),e.abs());return i.lte(n.times(t))}return!1}function zo(r,e,t){return Rr(r.re,e.re,t)&&Rr(r.im,e.im,t)}var ne="equalScalar",Do=["typed","config"],qo=tr(ne,Do,r=>{var{typed:e,config:t}=r;return e(ne,{"boolean, boolean":function(n,a){return n===a},"number, number":function(n,a){return Rr(n,a,t.epsilon)},"BigNumber, BigNumber":function(n,a){return n.eq(a)||Ie(n,a,t.epsilon)},"Fraction, Fraction":function(n,a){return n.equals(a)},"Complex, Complex":function(n,a){return zo(n,a,t.epsilon)},"Unit, Unit":function(n,a){if(!n.equalBase(a))throw new Error("Cannot compare units with different base");return this(n.value,a.value)}})});tr(ne,["typed","config"],r=>{var{typed:e,config:t}=r;return e(ne,{"number, number":function(n,a){return Rr(n,a,t.epsilon)}})});var Ro="SparseMatrix",Lo=["typed","equalScalar","Matrix"],$o=tr(Ro,Lo,r=>{var{typed:e,equalScalar:t,Matrix:i}=r;function n(c,d){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Mr(d))throw new Error("Invalid datatype: "+d);if(br(c))a(this,c,d);else if(c&&G(c.index)&&G(c.ptr)&&G(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=d||c.datatype;else if(G(c))p(this,c,d);else{if(c)throw new TypeError("Unsupported type of data ("+jr(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function a(c,d,g){d.type==="SparseMatrix"?(c._values=d._values?ir(d._values):void 0,c._index=ir(d._index),c._ptr=ir(d._ptr),c._size=ir(d._size),c._datatype=g||d._datatype):p(c,d.valueOf(),g||d._datatype)}function p(c,d,g){c._values=[],c._index=[],c._ptr=[],c._datatype=g;var N=d.length,w=0,b=t,A=0;if(Mr(g)&&(b=e.find(t,[g,g])||t,A=e.convert(0,g)),N>0){var I=0;do{c._ptr.push(c._index.length);for(var x=0;x<N;x++){var _=d[x];if(G(_)){if(I===0&&w<_.length&&(w=_.length),I<_.length){var S=_[I];b(S,A)||(c._values.push(S),c._index.push(x))}}else I===0&&w<1&&(w=1),b(_,A)||(c._values.push(_),c._index.push(x))}I++}while(I<w)}c._ptr.push(c._index.length),c._size=[N,w]}n.prototype=new i,n.prototype.createSparseMatrix=function(c,d){return new n(c,d)},n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Qr(this._values,jr)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,d){return new n(c,d)},n.prototype.density=function(){var c=this._size[0],d=this._size[1];return c!==0&&d!==0?this._index.length/(c*d):0},n.prototype.subset=function(c,d,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,c);case 2:case 3:return f(this,c,d,g);default:throw new SyntaxError("Wrong number of arguments")}};function l(c,d){if(!ie(d))throw new TypeError("Invalid index");var g=d.isScalar();if(g)return c.get(d.min());var N=d.size();if(N.length!==c._size.length)throw new Q(N.length,c._size.length);var w,b,A,I,x=d.min(),_=d.max();for(w=0,b=c._size.length;w<b;w++)K(x[w],c._size[w]),K(_[w],c._size[w]);var S=c._values,B=c._index,F=c._ptr,z=d.dimension(0),j=d.dimension(1),V=[],X=[];z.forEach(function(J,lr){X[J]=lr[0],V[J]=!0});var R=S?[]:void 0,nr=[],ur=[];return j.forEach(function(J){for(ur.push(nr.length),A=F[J],I=F[J+1];A<I;A++)w=B[A],V[w]===!0&&(nr.push(X[w]),R&&R.push(S[A]))}),ur.push(nr.length),new n({values:R,index:nr,ptr:ur,size:N,datatype:c._datatype})}function f(c,d,g,N){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var w=d.size(),b=d.isScalar(),A;if(br(g)?(A=g.size(),g=g.toArray()):A=Kr(g),b){if(A.length!==0)throw new TypeError("Scalar expected");c.set(d.min(),g,N)}else{if(w.length!==1&&w.length!==2)throw new Q(w.length,c._size.length,"<");if(A.length<w.length){for(var I=0,x=0;w[I]===1&&A[I]===1;)I++;for(;w[I]===1;)x++,I++;g=wt(g,w.length,x,A)}if(!Yr(w,A))throw new Q(w,A,">");if(w.length===1){var _=d.dimension(0);_.forEach(function(F,z){K(F),c.set([F,0],g[z[0]],N)})}else{var S=d.dimension(0),B=d.dimension(1);S.forEach(function(F,z){K(F),B.forEach(function(j,V){K(j),c.set([F,j],g[z[0]][V[0]],N)})})}}return c}n.prototype.get=function(c){if(!G(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Q(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=c[0],g=c[1];K(d,this._size[0]),K(g,this._size[1]);var N=v(d,this._ptr[g],this._ptr[g+1],this._index);return N<this._ptr[g+1]&&this._index[N]===d?this._values[N]:0},n.prototype.set=function(c,d,g){if(!G(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Q(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var N=c[0],w=c[1],b=this._size[0],A=this._size[1],I=t,x=0;Mr(this._datatype)&&(I=e.find(t,[this._datatype,this._datatype])||t,x=e.convert(0,this._datatype)),(N>b-1||w>A-1)&&(u(this,Math.max(N+1,b),Math.max(w+1,A),g),b=this._size[0],A=this._size[1]),K(N,b),K(w,A);var _=v(N,this._ptr[w],this._ptr[w+1],this._index);return _<this._ptr[w+1]&&this._index[_]===N?I(d,x)?s(_,w,this._values,this._index,this._ptr):this._values[_]=d:o(_,N,w,d,this._values,this._index,this._ptr),this};function v(c,d,g,N){if(g-d===0)return g;for(var w=d;w<g;w++)if(N[w]===c)return w;return d}function s(c,d,g,N,w){g.splice(c,1),N.splice(c,1);for(var b=d+1;b<w.length;b++)w[b]--}function o(c,d,g,N,w,b,A){w.splice(c,0,N),b.splice(c,0,d);for(var I=g+1;I<A.length;I++)A[I]++}n.prototype.resize=function(c,d,g){if(!at(c))throw new TypeError("Array or Matrix expected");var N=c.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(N.length!==2)throw new Error("Only two dimensions matrix are supported");N.forEach(function(b){if(!k(b)||!er(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+cr(N)+")")});var w=g?this.clone():this;return u(w,N[0],N[1],d)};function u(c,d,g,N){var w=N||0,b=t,A=0;Mr(c._datatype)&&(b=e.find(t,[c._datatype,c._datatype])||t,A=e.convert(0,c._datatype),w=e.convert(w,c._datatype));var I=!b(w,A),x=c._size[0],_=c._size[1],S,B,F;if(g>_){for(B=_;B<g;B++)if(c._ptr[B]=c._values.length,I)for(S=0;S<x;S++)c._values.push(w),c._index.push(S);c._ptr[g]=c._values.length}else g<_&&(c._ptr.splice(g+1,_-g),c._values.splice(c._ptr[g],c._values.length),c._index.splice(c._ptr[g],c._index.length));if(_=g,d>x){if(I){var z=0;for(B=0;B<_;B++){c._ptr[B]=c._ptr[B]+z,F=c._ptr[B+1]+z;var j=0;for(S=x;S<d;S++,j++)c._values.splice(F+j,0,w),c._index.splice(F+j,0,S),z++}c._ptr[_]=c._values.length}}else if(d<x){var V=0;for(B=0;B<_;B++){c._ptr[B]=c._ptr[B]-V;var X=c._ptr[B],R=c._ptr[B+1]-V;for(F=X;F<R;F++)S=c._index[F],S>d-1&&(c._values.splice(F,1),c._index.splice(F,1),V++)}c._ptr[B]=c._values.length}return c._size[0]=d,c._size[1]=g,c}n.prototype.reshape=function(c,d){if(!G(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(J){if(!k(J)||!er(J)||J<=-2||J===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+cr(c)+")")});var g=this._size[0]*this._size[1];c=Te(c,g);var N=c[0]*c[1];if(g!==N)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=d?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return w;for(var b=[],A=0;A<w._ptr.length;A++)for(var I=0;I<w._ptr[A+1]-w._ptr[A];I++)b.push(A);for(var x=w._values.slice(),_=w._index.slice(),S=0;S<w._index.length;S++){var B=_[S],F=b[S],z=B*w._size[1]+F;b[S]=z%c[1],_[S]=Math.floor(z/c[1])}w._values.length=0,w._index.length=0,w._ptr.length=c[1]+1,w._size=c.slice();for(var j=0;j<w._ptr.length;j++)w._ptr[j]=0;for(var V=0;V<x.length;V++){var X=_[V],R=b[V],nr=x[V],ur=v(X,w._ptr[R],w._ptr[R+1],w._index);o(ur,X,R,nr,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var c=new n({values:this._values?ir(this._values):void 0,index:ir(this._index),ptr:ir(this._ptr),size:ir(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,N=this._size[0],w=this._size[1],b=function(I,x,_){return c(I,[x,_],g)};return h(this,0,N-1,0,w-1,b,d)};function h(c,d,g,N,w,b,A){var I=[],x=[],_=[],S=t,B=0;Mr(c._datatype)&&(S=e.find(t,[c._datatype,c._datatype])||t,B=e.convert(0,c._datatype));for(var F=function(wr,Ur,he){wr=b(wr,Ur,he),S(wr,B)||(I.push(wr),x.push(Ur))},z=N;z<=w;z++){_.push(I.length);var j=c._ptr[z],V=c._ptr[z+1];if(A)for(var X=j;X<V;X++){var R=c._index[X];R>=d&&R<=g&&F(c._values[X],R-d,z-N)}else{for(var nr={},ur=j;ur<V;ur++){var J=c._index[ur];nr[J]=c._values[ur]}for(var lr=d;lr<=g;lr++){var Hr=lr in nr?nr[lr]:0;F(Hr,lr-d,z-N)}}}return _.push(I.length),new n({values:I,index:x,ptr:_,size:[g-d+1,w-N+1]})}n.prototype.forEach=function(c,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,N=this._size[0],w=this._size[1],b=0;b<w;b++){var A=this._ptr[b],I=this._ptr[b+1];if(d)for(var x=A;x<I;x++){var _=this._index[x];c(this._values[x],[_,b],g)}else{for(var S={},B=A;B<I;B++){var F=this._index[B];S[F]=this._values[B]}for(var z=0;z<N;z++){var j=z in S?S[z]:0;c(j,[z,b],g)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],d=0;d<c;d++)for(var g=this._ptr[d],N=this._ptr[d+1],w=g;w<N;w++){var b=this._index[w];yield{value:this._values[w],index:[b,d]}}},n.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(c,d,g,N,w){var b=N[0],A=N[1],I=[],x,_;for(x=0;x<b;x++)for(I[x]=[],_=0;_<A;_++)I[x][_]=0;for(_=0;_<A;_++)for(var S=g[_],B=g[_+1],F=S;F<B;F++)x=d[F],I[x][_]=c?w?ir(c[F]):c[F]:1;return I}return n.prototype.format=function(c){for(var d=this._size[0],g=this._size[1],N=this.density(),w="Sparse Matrix ["+cr(d,c)+" x "+cr(g,c)+"] density: "+cr(N,c)+`
`,b=0;b<g;b++)for(var A=this._ptr[b],I=this._ptr[b+1],x=A;x<I;x++){var _=this._index[x];w+=`
    (`+cr(_,c)+", "+cr(b,c)+") ==> "+(this._values?cr(this._values[x],c):"X")}return w},n.prototype.toString=function(){return cr(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(vr(c)&&(c=c.toNumber()),!k(c)||!er(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var d=c>0?c:0,g=c<0?-c:0,N=this._size[0],w=this._size[1],b=Math.min(N-g,w-d),A=[],I=[],x=[];x[0]=0;for(var _=d;_<w&&A.length<b;_++)for(var S=this._ptr[_],B=this._ptr[_+1],F=S;F<B;F++){var z=this._index[F];if(z===_-d+g){A.push(this._values[F]),I[A.length-1]=z-g;break}}return x.push(A.length),new n({values:A,index:I,ptr:x,size:[b,1]})},n.fromJSON=function(c){return new n(c)},n.diagonal=function(c,d,g,N,w){if(!G(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(J){if(vr(J)&&(J=J.toNumber()),!k(J)||!er(J)||J<1)throw new Error("Size values must be positive integers");return J}),g){if(vr(g)&&(g=g.toNumber()),!k(g)||!er(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var b=t,A=0;Mr(w)&&(b=e.find(t,[w,w])||t,A=e.convert(0,w));var I=g>0?g:0,x=g<0?-g:0,_=c[0],S=c[1],B=Math.min(_-x,S-I),F;if(G(d)){if(d.length!==B)throw new Error("Invalid value array length");F=function(lr){return d[lr]}}else if(br(d)){var z=d.size();if(z.length!==1||z[0]!==B)throw new Error("Invalid matrix length");F=function(lr){return d.get([lr])}}else F=function(){return d};for(var j=[],V=[],X=[],R=0;R<S;R++){X.push(j.length);var nr=R-I;if(nr>=0&&nr<B){var ur=F(nr);b(ur,A)||(V.push(nr+x),j.push(ur))}}return X.push(j.length),new n({values:j,index:V,ptr:X,size:[_,S]})},n.prototype.swapRows=function(c,d){if(!k(c)||!er(c)||!k(d)||!er(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return K(c,this._size[0]),K(d,this._size[0]),n._swapRows(c,d,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(c,d,g,N,w){for(var b=N[c],A=N[c+1],I=b;I<A;I++)w(g[I],d[I])},n._swapRows=function(c,d,g,N,w,b){for(var A=0;A<g;A++){var I=b[A],x=b[A+1],_=v(c,I,x,w),S=v(d,I,x,w);if(_<x&&S<x&&w[_]===c&&w[S]===d){if(N){var B=N[_];N[_]=N[S],N[S]=B}continue}if(_<x&&w[_]===c&&(S>=x||w[S]!==d)){var F=N?N[_]:void 0;w.splice(S,0,d),N&&N.splice(S,0,F),w.splice(S<=_?_+1:_,1),N&&N.splice(S<=_?_+1:_,1);continue}if(S<x&&w[S]===d&&(_>=x||w[_]!==c)){var z=N?N[S]:void 0;w.splice(_,0,c),N&&N.splice(_,0,z),w.splice(_<=S?S+1:S,1),N&&N.splice(_<=S?S+1:S,1)}}},n},{isClass:!0}),ke="matrix",Zo=["typed","Matrix","DenseMatrix","SparseMatrix"],Uo=tr(ke,Zo,r=>{var{typed:e,Matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(ke,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,f){return a([],l,f)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(p,l,f){if(l==="dense"||l==="default"||l===void 0)return new i(p,f);if(l==="sparse")return new n(p,f);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),jo="algorithm11",Xo=["typed","equalScalar"],Dt=tr(jo,Xo,r=>{var{typed:e,equalScalar:t}=r;return function(n,a,p,l){var f=n._values,v=n._index,s=n._ptr,o=n._size,u=n._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=o[0],m=o[1],c,d=t,g=0,N=p;typeof u=="string"&&(c=u,d=e.find(t,[c,c]),g=e.convert(0,c),a=e.convert(a,c),N=e.find(p,[c,c]));for(var w=[],b=[],A=[],I=0;I<m;I++){A[I]=b.length;for(var x=s[I],_=s[I+1],S=x;S<_;S++){var B=v[S],F=l?N(a,f[S]):N(f[S],a);d(F,g)||(b.push(B),w.push(F))}}return A[m]=b.length,n.createSparseMatrix({values:w,index:b,ptr:A,size:[h,m],datatype:c})}}),Ho="algorithm12",Vo=["typed","DenseMatrix"],qt=tr(Ho,Vo,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,a,p,l){var f=n._values,v=n._index,s=n._ptr,o=n._size,u=n._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=o[0],m=o[1],c,d=p;typeof u=="string"&&(c=u,a=e.convert(a,c),d=e.find(p,[c,c]));for(var g=[],N=[],w=[],b=0;b<m;b++){for(var A=b+1,I=s[b],x=s[b+1],_=I;_<x;_++){var S=v[_];N[S]=f[_],w[S]=A}for(var B=0;B<h;B++)b===0&&(g[B]=[]),w[B]===A?g[B][b]=l?d(a,N[B]):d(N[B],a):g[B][b]=l?d(a,0):d(0,a)}return new t({data:g,size:[h,m],datatype:c})}}),Wo="algorithm14",Jo=["typed"],Rt=tr(Wo,Jo,r=>{var{typed:e}=r;return function(n,a,p,l){var f=n._data,v=n._size,s=n._datatype,o,u=p;typeof s=="string"&&(o=s,a=e.convert(a,o),u=e.find(p,[o,o]));var h=v.length>0?t(u,0,v,v[0],f,a,l):[];return n.createDenseMatrix({data:h,size:ir(v),datatype:o})};function t(i,n,a,p,l,f,v){var s=[];if(n===a.length-1)for(var o=0;o<p;o++)s[o]=v?i(f,l[o]):i(l[o],f);else for(var u=0;u<p;u++)s[u]=t(i,n+1,a,a[n+1],l[u],f,v);return s}}),Oe="floor",Yo=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Go=tr(Oe,["typed","config","round"],r=>{var{typed:e,config:t,round:i}=r;return e(Oe,{number:function(a){return Rr(a,i(a),t.epsilon)?i(a):Math.floor(a)},"number, number":function(a,p){if(Rr(a,i(a,p),t.epsilon))return i(a,p);var[l,f]="".concat(a,"e").split("e"),v=Math.floor(Number("".concat(l,"e").concat(Number(f)+p)));return[l,f]="".concat(v,"e").split("e"),Number("".concat(l,"e").concat(Number(f)-p))}})}),Ko=tr(Oe,Yo,r=>{var{typed:e,config:t,round:i,matrix:n,equalScalar:a,zeros:p,DenseMatrix:l}=r,f=Dt({typed:e,equalScalar:a}),v=qt({typed:e,DenseMatrix:l}),s=Rt({typed:e}),o=Go({typed:e,config:t,round:i});return e("floor",{number:o.signatures.number,"number,number":o.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,m){return h.floor(m)},"Complex, BigNumber":function(h,m){return h.floor(m.toNumber())},BigNumber:function(h){return Ie(h,i(h),t.epsilon)?i(h):h.floor()},"BigNumber, BigNumber":function(h,m){return Ie(h,i(h,m),t.epsilon)?i(h,m):h.toDecimalPlaces(m.toNumber(),Fr.ROUND_FLOOR)},Fraction:function(h){return h.floor()},"Fraction, number":function(h,m){return h.floor(m)},"Fraction, BigNumber":function(h,m){return h.floor(m.toNumber())},"Array | Matrix":function(h){return te(h,this)},"Array, number | BigNumber":function(h,m){return te(h,c=>this(c,m))},"SparseMatrix, number | BigNumber":function(h,m){return f(h,m,this,!1)},"DenseMatrix, number | BigNumber":function(h,m){return s(h,m,this,!1)},"number | Complex | Fraction | BigNumber, Array":function(h,m){return s(n(m),h,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(h,m){return a(h,0)?p(m.size(),m.storage()):m.storage()==="dense"?s(m,h,this,!0):v(m,h,this,!0)}})}),rt="zeros",Qo=["typed","config","matrix","BigNumber"],ko=tr(rt,Qo,r=>{var{typed:e,config:t,matrix:i,BigNumber:n}=r;return e(rt,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(v){var s=v[v.length-1];if(typeof s=="string"){var o=v.pop();return a(v,o)}else return t.matrix==="Array"?a(v):a(v,"default")},Array:a,Matrix:function(v){var s=v.storage();return a(v.valueOf(),s)},"Array | Matrix, string":function(v,s){return a(v.valueOf(),s)}});function a(f,v){var s=p(f),o=s?new n(0):0;if(l(f),v){var u=i(v);return f.length>0?u.resize(f,o):u}else{var h=[];return f.length>0?_e(h,f,o):h}}function p(f){var v=!1;return f.forEach(function(s,o,u){vr(s)&&(v=!0,u[o]=s.toNumber())}),v}function l(f){f.forEach(function(v){if(typeof v!="number"||!er(v)||v<0)throw new Error("Parameters in function zeros must be positive integers")})}}),zr="Number of decimals in function round must be an integer",et="round",ra=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],ea=tr(et,ra,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,BigNumber:a,DenseMatrix:p}=r,l=Dt({typed:e,equalScalar:i}),f=qt({typed:e,DenseMatrix:p}),v=Rt({typed:e});return e(et,{number:Qe,"number, number":Qe,"number, BigNumber":function(o,u){if(!u.isInteger())throw new TypeError(zr);return new a(o).toDecimalPlaces(u.toNumber())},Complex:function(o){return o.round()},"Complex, number":function(o,u){if(u%1)throw new TypeError(zr);return o.round(u)},"Complex, BigNumber":function(o,u){if(!u.isInteger())throw new TypeError(zr);var h=u.toNumber();return o.round(h)},BigNumber:function(o){return o.toDecimalPlaces(0)},"BigNumber, BigNumber":function(o,u){if(!u.isInteger())throw new TypeError(zr);return o.toDecimalPlaces(u.toNumber())},Fraction:function(o){return o.round()},"Fraction, number":function(o,u){if(u%1)throw new TypeError(zr);return o.round(u)},"Fraction, BigNumber":function(o,u){if(!u.isInteger())throw new TypeError(zr);return o.round(u.toNumber())},"Array | Matrix":function(o){return te(o,this)},"SparseMatrix, number | BigNumber":function(o,u){return l(o,u,this,!1)},"DenseMatrix, number | BigNumber":function(o,u){return v(o,u,this,!1)},"Array, number | BigNumber":function(o,u){return v(t(o),u,this,!1).valueOf()},"number | Complex | BigNumber | Fraction, SparseMatrix":function(o,u){return i(o,0)?n(u.size(),u.storage()):f(u,o,this,!0)},"number | Complex | BigNumber | Fraction, DenseMatrix":function(o,u){return i(o,0)?n(u.size(),u.storage()):v(u,o,this,!0)},"number | Complex | BigNumber | Fraction, Array":function(o,u){return v(t(u),o,this,!0).valueOf()}})}),Lt={exports:{}};(function(r){(function(e,t,i){function n(f){var v=this,s=l();v.next=function(){var o=2091639*v.s0+v.c*23283064365386963e-26;return v.s0=v.s1,v.s1=v.s2,v.s2=o-(v.c=o|0)},v.c=1,v.s0=s(" "),v.s1=s(" "),v.s2=s(" "),v.s0-=s(f),v.s0<0&&(v.s0+=1),v.s1-=s(f),v.s1<0&&(v.s1+=1),v.s2-=s(f),v.s2<0&&(v.s2+=1),s=null}function a(f,v){return v.c=f.c,v.s0=f.s0,v.s1=f.s1,v.s2=f.s2,v}function p(f,v){var s=new n(f),o=v&&v.state,u=s.next;return u.int32=function(){return s.next()*4294967296|0},u.double=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.quick=u,o&&(typeof o=="object"&&a(o,s),u.state=function(){return a(s,{})}),u}function l(){var f=4022871197,v=function(s){s=String(s);for(var o=0;o<s.length;o++){f+=s.charCodeAt(o);var u=.02519603282416938*f;f=u>>>0,u-=f,u*=f,f=u>>>0,u-=f,f+=u*4294967296}return(f>>>0)*23283064365386963e-26};return v}t&&t.exports?t.exports=p:i&&i.amd?i(function(){return p}):this.alea=p})(xr,r,!1)})(Lt);var $t={exports:{}};(function(r){(function(e,t,i){function n(l){var f=this,v="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var o=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^o^o>>>8},l===(l|0)?f.x=l:v+=l;for(var s=0;s<v.length+64;s++)f.x^=v.charCodeAt(s)|0,f.next()}function a(l,f){return f.x=l.x,f.y=l.y,f.z=l.z,f.w=l.w,f}function p(l,f){var v=new n(l),s=f&&f.state,o=function(){return(v.next()>>>0)/4294967296};return o.double=function(){do var u=v.next()>>>11,h=(v.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},o.int32=v.next,o.quick=o,s&&(typeof s=="object"&&a(s,v),o.state=function(){return a(v,{})}),o}t&&t.exports?t.exports=p:i&&i.amd?i(function(){return p}):this.xor128=p})(xr,r,!1)})($t);var Zt={exports:{}};(function(r){(function(e,t,i){function n(l){var f=this,v="";f.next=function(){var o=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(o^o<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,l===(l|0)?f.x=l:v+=l;for(var s=0;s<v.length+64;s++)f.x^=v.charCodeAt(s)|0,s==v.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function a(l,f){return f.x=l.x,f.y=l.y,f.z=l.z,f.w=l.w,f.v=l.v,f.d=l.d,f}function p(l,f){var v=new n(l),s=f&&f.state,o=function(){return(v.next()>>>0)/4294967296};return o.double=function(){do var u=v.next()>>>11,h=(v.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},o.int32=v.next,o.quick=o,s&&(typeof s=="object"&&a(s,v),o.state=function(){return a(v,{})}),o}t&&t.exports?t.exports=p:i&&i.amd?i(function(){return p}):this.xorwow=p})(xr,r,!1)})(Zt);var Ut={exports:{}};(function(r){(function(e,t,i){function n(l){var f=this;f.next=function(){var s=f.x,o=f.i,u,h;return u=s[o],u^=u>>>7,h=u^u<<24,u=s[o+1&7],h^=u^u>>>10,u=s[o+3&7],h^=u^u>>>3,u=s[o+4&7],h^=u^u<<7,u=s[o+7&7],u=u^u<<13,h^=u^u<<9,s[o]=h,f.i=o+1&7,h};function v(s,o){var u,h=[];if(o===(o|0))h[0]=o;else for(o=""+o,u=0;u<o.length;++u)h[u&7]=h[u&7]<<15^o.charCodeAt(u)+h[u+1&7]<<13;for(;h.length<8;)h.push(0);for(u=0;u<8&&h[u]===0;++u);for(u==8&&(h[7]=-1),s.x=h,s.i=0,u=256;u>0;--u)s.next()}v(f,l)}function a(l,f){return f.x=l.x.slice(),f.i=l.i,f}function p(l,f){l==null&&(l=+new Date);var v=new n(l),s=f&&f.state,o=function(){return(v.next()>>>0)/4294967296};return o.double=function(){do var u=v.next()>>>11,h=(v.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},o.int32=v.next,o.quick=o,s&&(s.x&&a(s,v),o.state=function(){return a(v,{})}),o}t&&t.exports?t.exports=p:i&&i.amd?i(function(){return p}):this.xorshift7=p})(xr,r,!1)})(Ut);var jt={exports:{}};(function(r){(function(e,t,i){function n(l){var f=this;f.next=function(){var s=f.w,o=f.X,u=f.i,h,m;return f.w=s=s+1640531527|0,m=o[u+34&127],h=o[u=u+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=o[u]=m^h,f.i=u,m+(s^s>>>16)|0};function v(s,o){var u,h,m,c,d,g=[],N=128;for(o===(o|0)?(h=o,o=null):(o=o+"\0",h=0,N=Math.max(N,o.length)),m=0,c=-32;c<N;++c)o&&(h^=o.charCodeAt((c+32)%o.length)),c===0&&(d=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,c>=0&&(d=d+1640531527|0,u=g[c&127]^=h+d,m=u==0?m+1:0);for(m>=128&&(g[(o&&o.length||0)&127]=-1),m=127,c=4*128;c>0;--c)h=g[m+34&127],u=g[m=m+1&127],h^=h<<13,u^=u<<17,h^=h>>>15,u^=u>>>12,g[m]=h^u;s.w=d,s.X=g,s.i=m}v(f,l)}function a(l,f){return f.i=l.i,f.w=l.w,f.X=l.X.slice(),f}function p(l,f){l==null&&(l=+new Date);var v=new n(l),s=f&&f.state,o=function(){return(v.next()>>>0)/4294967296};return o.double=function(){do var u=v.next()>>>11,h=(v.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},o.int32=v.next,o.quick=o,s&&(s.X&&a(s,v),o.state=function(){return a(v,{})}),o}t&&t.exports?t.exports=p:i&&i.amd?i(function(){return p}):this.xor4096=p})(xr,r,!1)})(jt);var Xt={exports:{}};(function(r){(function(e,t,i){function n(l){var f=this,v="";f.next=function(){var o=f.b,u=f.c,h=f.d,m=f.a;return o=o<<25^o>>>7^u,u=u-h|0,h=h<<24^h>>>8^m,m=m-o|0,f.b=o=o<<20^o>>>12^u,f.c=u=u-h|0,f.d=h<<16^u>>>16^m,f.a=m-o|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,l===Math.floor(l)?(f.a=l/4294967296|0,f.b=l|0):v+=l;for(var s=0;s<v.length+20;s++)f.b^=v.charCodeAt(s)|0,f.next()}function a(l,f){return f.a=l.a,f.b=l.b,f.c=l.c,f.d=l.d,f}function p(l,f){var v=new n(l),s=f&&f.state,o=function(){return(v.next()>>>0)/4294967296};return o.double=function(){do var u=v.next()>>>11,h=(v.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},o.int32=v.next,o.quick=o,s&&(typeof s=="object"&&a(s,v),o.state=function(){return a(v,{})}),o}t&&t.exports?t.exports=p:i&&i.amd?i(function(){return p}):this.tychei=p})(xr,r,!1)})(Xt);var Ht={exports:{}};(function(r){(function(e,t,i){var n=256,a=6,p=52,l="random",f=i.pow(n,a),v=i.pow(2,p),s=v*2,o=n-1,u;function h(b,A,I){var x=[];A=A==!0?{entropy:!0}:A||{};var _=g(d(A.entropy?[b,w(t)]:b==null?N():b,3),x),S=new m(x),B=function(){for(var F=S.g(a),z=f,j=0;F<v;)F=(F+j)*n,z*=n,j=S.g(1);for(;F>=s;)F/=2,z/=2,j>>>=1;return(F+j)/z};return B.int32=function(){return S.g(4)|0},B.quick=function(){return S.g(4)/4294967296},B.double=B,g(w(S.S),t),(A.pass||I||function(F,z,j,V){return V&&(V.S&&c(V,S),F.state=function(){return c(S,{})}),j?(i[l]=F,z):F})(B,_,"global"in A?A.global:this==i,A.state)}function m(b){var A,I=b.length,x=this,_=0,S=x.i=x.j=0,B=x.S=[];for(I||(b=[I++]);_<n;)B[_]=_++;for(_=0;_<n;_++)B[_]=B[S=o&S+b[_%I]+(A=B[_])],B[S]=A;(x.g=function(F){for(var z,j=0,V=x.i,X=x.j,R=x.S;F--;)z=R[V=o&V+1],j=j*n+R[o&(R[V]=R[X=o&X+z])+(R[X]=z)];return x.i=V,x.j=X,j})(n)}function c(b,A){return A.i=b.i,A.j=b.j,A.S=b.S.slice(),A}function d(b,A){var I=[],x=typeof b,_;if(A&&x=="object")for(_ in b)try{I.push(d(b[_],A-1))}catch{}return I.length?I:x=="string"?b:b+"\0"}function g(b,A){for(var I=b+"",x,_=0;_<I.length;)A[o&_]=o&(x^=A[o&_]*19)+I.charCodeAt(_++);return w(A)}function N(){try{var b;return u&&(b=u.randomBytes)?b=b(n):(b=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(b)),w(b)}catch{var A=e.navigator,I=A&&A.plugins;return[+new Date,e,I,e.screen,w(t)]}}function w(b){return String.fromCharCode.apply(0,b)}if(g(i.random(),t),r.exports){r.exports=h;try{u=require("crypto")}catch{}}else i["seed"+l]=h})(typeof self!="undefined"?self:xr,[],Math)})(Ht);var ta=Lt.exports,na=$t.exports,ia=Zt.exports,oa=Ut.exports,aa=jt.exports,sa=Xt.exports,Br=Ht.exports;Br.alea=ta;Br.xor128=na;Br.xorwow=ia;Br.xorshift7=oa;Br.xor4096=aa;Br.tychei=sa;var Vt=Br,ua=Vt(Date.now());function tt(r){var e;function t(n){e=n===null?ua:Vt(String(n))}t(r);function i(){return e()}return i}function Wt(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var i=0,n=r.shift();i<n;i++)t.push(Wt(r,e));else for(var a=0,p=r.shift();a<p;a++)t.push(e());return t}var nt="randomInt",fa=["typed","config","?on"],ca=tr(nt,fa,r=>{var{typed:e,config:t,on:i}=r,n=tt(t.randomSeed);return i&&i("config",function(l,f){l.randomSeed!==f.randomSeed&&(n=tt(l.randomSeed))}),e(nt,{"":()=>p(0,1),number:l=>p(0,l),"number, number":(l,f)=>p(l,f),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,f)=>a(l,0,f),"Array | Matrix, number, number":(l,f,v)=>a(l,f,v)});function a(l,f,v){var s=Wt(l.valueOf(),()=>p(f,v));return br(l)?l.create(s):s}function p(l,f){return Math.floor(l+n()*(f-l))}}),De=_o({config:$r}),ha=So({}),la=xo({}),qe=Fo({}),ce=To({Matrix:qe}),Pr=Ei({BigNumber:De,Complex:ha,DenseMatrix:ce,Fraction:la}),Re=qo({config:$r,typed:Pr}),pa=$o({Matrix:qe,equalScalar:Re,typed:Pr}),da=ca({config:$r,typed:Pr}),Le=Uo({DenseMatrix:ce,Matrix:qe,SparseMatrix:pa,typed:Pr}),Jt=ko({BigNumber:De,config:$r,matrix:Le,typed:Pr}),va=ea({BigNumber:De,DenseMatrix:ce,equalScalar:Re,matrix:Le,typed:Pr,zeros:Jt}),ga=Ko({DenseMatrix:ce,config:$r,equalScalar:Re,matrix:Le,round:va,typed:Pr,zeros:Jt});export{ga as f,da as r};
